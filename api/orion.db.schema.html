

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>orion.db.schema module &mdash; Orion 0.1.2.dev0 documentation</title>
  

  
  
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="orion.evaluation package" href="orion.evaluation.html" />
    <link rel="prev" title="orion.db.explorer module" href="orion.db.explorer.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> Orion
          

          
            
            <img src="../_static/orion-logo-white-200.png" class="logo" alt="Logo"/>
          
          </a>

          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../readme.html">Orion</a></li>
<li class="toctree-l1"><a class="reference internal" href="../readme.html#overview">Overview</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../readme.html#table-of-contents">Table of Contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../readme.html#data-format">Data Format</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../readme.html#input">Input</a></li>
<li class="toctree-l2"><a class="reference internal" href="../readme.html#output">Output</a></li>
<li class="toctree-l2"><a class="reference internal" href="../readme.html#dataset-we-use-in-this-library">Dataset we use in this library</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../readme.html#orion-pipelines">Orion Pipelines</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../readme.html#current-available-pipelines">Current Available Pipelines</a></li>
<li class="toctree-l2"><a class="reference internal" href="../readme.html#leaderboard">Leaderboard</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../readme.html#install">Install</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../readme.html#requirements">Requirements</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../readme.html#python">Python</a></li>
<li class="toctree-l3"><a class="reference internal" href="../readme.html#mongodb">MongoDB</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../readme.html#install-with-pip">Install with pip</a></li>
<li class="toctree-l2"><a class="reference internal" href="../readme.html#docker">Docker</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../readme.html#quickstart">Quickstart</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../readme.html#load-the-data">1. Load the data</a></li>
<li class="toctree-l2"><a class="reference internal" href="../readme.html#detect-anomalies-using-orion">2. Detect anomalies using Orion</a></li>
<li class="toctree-l2"><a class="reference internal" href="../readme.html#evaluate-the-performance-of-your-pipeline">3. Evaluate the performance of your pipeline</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../readme.html#database">Database</a></li>
</ul>
<p class="caption"><span class="caption-text">Advanced Usage</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../benchmark.html">Benchmark</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../benchmark.html#data-used-for-the-scoring">Data used for the scoring</a></li>
<li class="toctree-l2"><a class="reference internal" href="../benchmark.html#calculating-a-score">Calculating a Score</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../benchmark.html#scoring-input">Scoring Input</a></li>
<li class="toctree-l3"><a class="reference internal" href="../benchmark.html#scoring-process-reformat-as-labels-with-weights">Scoring process: Reformat as labels with weights</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../benchmark.html#evaluating-the-pipelines">Evaluating the Pipelines</a></li>
<li class="toctree-l2"><a class="reference internal" href="../benchmark.html#evaluate-function">Evaluate function</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../database.html">Database Schema</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../database.html#dataset">Dataset</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../database.html#fields">Fields</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../database.html#signal">Signal</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../database.html#id1">Fields</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../database.html#template">Template</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../database.html#id2">Fields</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../database.html#pipeline">Pipeline</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../database.html#id3">Fields</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../database.html#experiment">Experiment</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../database.html#id4">Fields</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../database.html#datarun">Datarun</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../database.html#id5">Fields</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../database.html#signalrun">Signalrun</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../database.html#id6">Fields</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../database.html#event">Event</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../database.html#id7">Fields</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../database.html#event-interaction">Event Interaction</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../database.html#id8">Fields</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../database.html#annotation">Annotation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../database.html#id9">Fields</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../docker.html">Docker Usage</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../docker.html#docker-requirements">Docker Requirements</a></li>
<li class="toctree-l2"><a class="reference internal" href="../docker.html#building-the-orion-docker-image">Building the Orion Docker Image</a></li>
<li class="toctree-l2"><a class="reference internal" href="../docker.html#distributing-the-orion-docker-image">Distributing the Orion Docker Image</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../docker.html#distributing-using-a-docker-registry">Distributing using a Docker registry</a></li>
<li class="toctree-l3"><a class="reference internal" href="../docker.html#distributing-as-a-file">Distributing as a file</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../docker.html#running-the-orion-jupyter-image">Running the orion-jupyter image</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../docker.html#running-orion-jupyter-with-the-code">Running orion-jupyter with the code</a></li>
<li class="toctree-l3"><a class="reference internal" href="../docker.html#running-orion-jupyter-without-the-orion-code">Running orion-jupyter without the orion code</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Resources</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="orion.html">API Reference</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="orion.html#subpackages">Subpackages</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="orion.db.html">orion.db package</a><ul class="current">
<li class="toctree-l4 current"><a class="reference internal" href="orion.db.html#submodules">Submodules</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="orion.evaluation.html">orion.evaluation package</a><ul>
<li class="toctree-l4"><a class="reference internal" href="orion.evaluation.html#submodules">Submodules</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="orion.primitives.html">orion.primitives package</a><ul>
<li class="toctree-l4"><a class="reference internal" href="orion.primitives.html#submodules">Submodules</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="orion.html#submodules">Submodules</a><ul>
<li class="toctree-l3"><a class="reference internal" href="orion.analysis.html">orion.analysis module</a></li>
<li class="toctree-l3"><a class="reference internal" href="orion.benchmark.html">orion.benchmark module</a></li>
<li class="toctree-l3"><a class="reference internal" href="orion.cli.html">orion.cli module</a></li>
<li class="toctree-l3"><a class="reference internal" href="orion.core.html">orion.core module</a></li>
<li class="toctree-l3"><a class="reference internal" href="orion.data.html">orion.data module</a></li>
<li class="toctree-l3"><a class="reference internal" href="orion.functional.html">orion.functional module</a></li>
<li class="toctree-l3"><a class="reference internal" href="orion.runner.html">orion.runner module</a></li>
<li class="toctree-l3"><a class="reference internal" href="orion.utils.html">orion.utils module</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../contributing.html">Contributing</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../contributing.html#types-of-contributions">Types of Contributions</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../contributing.html#report-bugs">Report Bugs</a></li>
<li class="toctree-l3"><a class="reference internal" href="../contributing.html#fix-bugs">Fix Bugs</a></li>
<li class="toctree-l3"><a class="reference internal" href="../contributing.html#implement-features">Implement Features</a></li>
<li class="toctree-l3"><a class="reference internal" href="../contributing.html#write-documentation">Write Documentation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../contributing.html#submit-feedback">Submit Feedback</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../contributing.html#get-started">Get Started!</a></li>
<li class="toctree-l2"><a class="reference internal" href="../contributing.html#pull-request-guidelines">Pull Request Guidelines</a></li>
<li class="toctree-l2"><a class="reference internal" href="../contributing.html#unit-testing-guidelines">Unit Testing Guidelines</a></li>
<li class="toctree-l2"><a class="reference internal" href="../contributing.html#tips">Tips</a></li>
<li class="toctree-l2"><a class="reference internal" href="../contributing.html#release-workflow">Release Workflow</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../authors.html">Credits</a></li>
<li class="toctree-l1"><a class="reference internal" href="../history.html">History</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../history.html#id1">0.1.1 - 2020-05-11</a></li>
<li class="toctree-l2"><a class="reference internal" href="../history.html#id2">0.1.0 - 2020-04-23</a></li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Orion</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="orion.html">orion package</a> &raquo;</li>
        
          <li><a href="orion.db.html">orion.db package</a> &raquo;</li>
        
      <li>orion.db.schema module</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            
              <a href="https://github.com/D3-AI/Orion/blob/master/docs/api/orion.db.schema.rst" class="fa fa-github"> Edit on GitHub</a>
            
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="module-orion.db.schema">
<span id="orion-db-schema-module"></span><h1>orion.db.schema module<a class="headerlink" href="#module-orion.db.schema" title="Permalink to this headline">¶</a></h1>
<p>Orion Database Schema.</p>
<dl class="simple">
<dt>This module contains the classes that define the Orion Database Schema:</dt><dd><ul class="simple">
<li><p>Dataset</p></li>
<li><p>Signal</p></li>
<li><p>Template</p></li>
<li><p>Pipeline</p></li>
<li><p>Experiment</p></li>
<li><p>Datarun</p></li>
<li><p>Signalrun</p></li>
<li><p>Event</p></li>
<li><p>EventInteraction</p></li>
<li><p>Annotation</p></li>
</ul>
</dd>
</dl>
<dl class="class">
<dt id="orion.db.schema.Annotation">
<em class="property">class </em><code class="sig-prename descclassname">orion.db.schema.</code><code class="sig-name descname">Annotation</code><span class="sig-paren">(</span><em class="sig-param">*args</em>, <em class="sig-param">**values</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/orion/db/schema.html#Annotation"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#orion.db.schema.Annotation" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="orion.db.base.html#orion.db.base.OrionDocument" title="orion.db.base.OrionDocument"><code class="xref py py-class docutils literal notranslate"><span class="pre">orion.db.base.OrionDocument</span></code></a></p>
<p>Annotation object.</p>
<p>User Annotation related to an event. The Annotations consist on a tag and
a free text field where the user can insert comments about the Event.</p>
<dl class="exception">
<dt id="orion.db.schema.Annotation.DoesNotExist">
<em class="property">exception </em><code class="sig-name descname">DoesNotExist</code><a class="headerlink" href="#orion.db.schema.Annotation.DoesNotExist" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">mongoengine.errors.DoesNotExist</span></code></p>
</dd></dl>

<dl class="exception">
<dt id="orion.db.schema.Annotation.MultipleObjectsReturned">
<em class="property">exception </em><code class="sig-name descname">MultipleObjectsReturned</code><a class="headerlink" href="#orion.db.schema.Annotation.MultipleObjectsReturned" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">mongoengine.errors.MultipleObjectsReturned</span></code></p>
</dd></dl>

<dl class="attribute">
<dt id="orion.db.schema.Annotation.comment">
<code class="sig-name descname">comment</code><a class="headerlink" href="#orion.db.schema.Annotation.comment" title="Permalink to this definition">¶</a></dt>
<dd><p>A unicode string field.</p>
</dd></dl>

<dl class="attribute">
<dt id="orion.db.schema.Annotation.created_by">
<code class="sig-name descname">created_by</code><a class="headerlink" href="#orion.db.schema.Annotation.created_by" title="Permalink to this definition">¶</a></dt>
<dd><p>A unicode string field.</p>
</dd></dl>

<dl class="attribute">
<dt id="orion.db.schema.Annotation.event">
<code class="sig-name descname">event</code><a class="headerlink" href="#orion.db.schema.Annotation.event" title="Permalink to this definition">¶</a></dt>
<dd><p>A reference to a document that will be automatically dereferenced on
access (lazily).</p>
<p>Note this means you will get a database I/O access everytime you access
this field. This is necessary because the field returns a <code class="xref py py-class docutils literal notranslate"><span class="pre">Document</span></code>
which precise type can depend of the value of the <cite>_cls</cite> field present in the
document in database.
In short, using this type of field can lead to poor performances (especially
if you access this field only to retrieve it <cite>pk</cite> field which is already
known before dereference). To solve this you should consider using the
<code class="xref py py-class docutils literal notranslate"><span class="pre">LazyReferenceField</span></code>.</p>
<p>Use the <cite>reverse_delete_rule</cite> to handle what should happen if the document
the field is referencing is deleted.  EmbeddedDocuments, DictFields and
MapFields does not support reverse_delete_rule and an <cite>InvalidDocumentError</cite>
will be raised if trying to set on one of these Document / Field types.</p>
<p>The options are:</p>
<blockquote>
<div><ul class="simple">
<li><p>DO_NOTHING (0)  - don’t do anything (default).</p></li>
<li><p>NULLIFY    (1)  - Updates the reference to null.</p></li>
<li><p>CASCADE    (2)  - Deletes the documents associated with the reference.</p></li>
<li><p>DENY       (3)  - Prevent the deletion of the reference object.</p></li>
<li><p>PULL       (4)  - Pull the reference from a <code class="xref py py-class docutils literal notranslate"><span class="pre">ListField</span></code> of references</p></li>
</ul>
</div></blockquote>
<p>Alternative syntax for registering delete rules (useful when implementing
bi-directional delete rules)</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Org</span><span class="p">(</span><span class="n">Document</span><span class="p">):</span>
    <span class="n">owner</span> <span class="o">=</span> <span class="n">ReferenceField</span><span class="p">(</span><span class="s1">&#39;User&#39;</span><span class="p">)</span>

<span class="k">class</span> <span class="nc">User</span><span class="p">(</span><span class="n">Document</span><span class="p">):</span>
    <span class="n">org</span> <span class="o">=</span> <span class="n">ReferenceField</span><span class="p">(</span><span class="s1">&#39;Org&#39;</span><span class="p">,</span> <span class="n">reverse_delete_rule</span><span class="o">=</span><span class="n">CASCADE</span><span class="p">)</span>

<span class="n">User</span><span class="o">.</span><span class="n">register_delete_rule</span><span class="p">(</span><span class="n">Org</span><span class="p">,</span> <span class="s1">&#39;owner&#39;</span><span class="p">,</span> <span class="n">DENY</span><span class="p">)</span>
</pre></div>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Changed in version 0.5: </span>added <cite>reverse_delete_rule</cite></p>
</div>
</dd></dl>

<dl class="attribute">
<dt id="orion.db.schema.Annotation.id">
<code class="sig-name descname">id</code><a class="headerlink" href="#orion.db.schema.Annotation.id" title="Permalink to this definition">¶</a></dt>
<dd><p>A field wrapper around MongoDB’s ObjectIds.</p>
</dd></dl>

<dl class="attribute">
<dt id="orion.db.schema.Annotation.objects">
<code class="sig-name descname">objects</code><a class="headerlink" href="#orion.db.schema.Annotation.objects" title="Permalink to this definition">¶</a></dt>
<dd><p>The default QuerySet Manager.</p>
<p>Custom QuerySet Manager functions can extend this class and users can
add extra queryset functionality.  Any custom manager methods must accept a
<code class="xref py py-class docutils literal notranslate"><span class="pre">Document</span></code> class as its first argument, and a
<code class="xref py py-class docutils literal notranslate"><span class="pre">QuerySet</span></code> as its second argument.</p>
<p>The method function should return a <code class="xref py py-class docutils literal notranslate"><span class="pre">QuerySet</span></code>
, probably the same one that was passed in, but modified in some way.</p>
</dd></dl>

<dl class="method">
<dt id="orion.db.schema.Annotation.save">
<code class="sig-name descname">save</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/orion/db/schema.html#Annotation.save"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#orion.db.schema.Annotation.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Save the <code class="xref py py-class docutils literal notranslate"><span class="pre">Document</span></code> to the database. If the
document already exists, it will be updated, otherwise it will be
created.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>force_insert</strong> – only try to create a new document, don’t allow
updates of existing documents.</p></li>
<li><p><strong>validate</strong> – validates the document; set to <code class="docutils literal notranslate"><span class="pre">False</span></code> to skip.</p></li>
<li><p><strong>clean</strong> – call the document clean method, requires <cite>validate</cite> to be
True.</p></li>
<li><p><strong>write_concern</strong> – Extra keyword arguments are passed down to
<code class="xref py py-meth docutils literal notranslate"><span class="pre">save()</span></code> OR
<code class="xref py py-meth docutils literal notranslate"><span class="pre">insert()</span></code>
which will be used as options for the resultant
<code class="docutils literal notranslate"><span class="pre">getLastError</span></code> command.  For example,
<code class="docutils literal notranslate"><span class="pre">save(...,</span> <span class="pre">write_concern={w:</span> <span class="pre">2,</span> <span class="pre">fsync:</span> <span class="pre">True},</span> <span class="pre">...)</span></code> will
wait until at least two servers have recorded the write and
will force an fsync on the primary server.</p></li>
<li><p><strong>cascade</strong> – Sets the flag for cascading saves.  You can set a
default by setting “cascade” in the document __meta__</p></li>
<li><p><strong>cascade_kwargs</strong> – (optional) kwargs dictionary to be passed throw
to cascading saves.  Implies <code class="docutils literal notranslate"><span class="pre">cascade=True</span></code>.</p></li>
<li><p><strong>_refs</strong> – A list of processed references used in cascading saves</p></li>
<li><p><strong>save_condition</strong> – only perform save if matching record in db
satisfies condition(s) (e.g. version number).
Raises <code class="xref py py-class docutils literal notranslate"><span class="pre">OperationError</span></code> if the conditions are not satisfied</p></li>
<li><p><strong>signal_kwargs</strong> – (optional) kwargs dictionary to be passed to
the signal calls.</p></li>
</ul>
</dd>
</dl>
<div class="versionchanged">
<p><span class="versionmodified changed">Changed in version 0.5: </span>In existing documents it only saves changed fields using
set / unset.  Saves are cascaded and any
<code class="xref py py-class docutils literal notranslate"><span class="pre">DBRef</span></code> objects that have changes are
saved as well.</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Changed in version 0.6: </span>Added cascading saves</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Changed in version 0.8: </span>Cascade saves are optional and default to False.  If you want
fine grain control then you can turn off using document
meta[‘cascade’] = True.  Also you can pass different kwargs to
the cascade save using cascade_kwargs which overwrites the
existing kwargs with custom values.</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Changed in version 0.8.5: </span>Optional save_condition that only overwrites existing documents
if the condition is satisfied in the current db record.</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Changed in version 0.10: </span><code class="xref py py-class docutils literal notranslate"><span class="pre">OperationError</span></code> exception raised if save_condition fails.</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Changed in version 0.10.1: </span>:class: save_condition failure now raises a <cite>SaveConditionError</cite></p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Changed in version 0.10.7: </span>Add signal_kwargs argument</p>
</div>
</dd></dl>

<dl class="attribute">
<dt id="orion.db.schema.Annotation.tag">
<code class="sig-name descname">tag</code><a class="headerlink" href="#orion.db.schema.Annotation.tag" title="Permalink to this definition">¶</a></dt>
<dd><p>A unicode string field.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="orion.db.schema.Datarun">
<em class="property">class </em><code class="sig-prename descclassname">orion.db.schema.</code><code class="sig-name descname">Datarun</code><span class="sig-paren">(</span><em class="sig-param">*args</em>, <em class="sig-param">**values</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/orion/db/schema.html#Datarun"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#orion.db.schema.Datarun" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="orion.db.base.html#orion.db.base.OrionDocument" title="orion.db.base.OrionDocument"><code class="xref py py-class docutils literal notranslate"><span class="pre">orion.db.base.OrionDocument</span></code></a>, <a class="reference internal" href="orion.db.base.html#orion.db.base.Status" title="orion.db.base.Status"><code class="xref py py-class docutils literal notranslate"><span class="pre">orion.db.base.Status</span></code></a></p>
<p>Datarun object.</p>
<p>The Datarun object represents a single execution of a Pipeline over a set
of Signals, within the context of an Experiment.</p>
<p>It contains all the information about the environment and context where this
execution took place, which potentially allows to later on reproduce the results
in a new environment.</p>
<p>It also contains information about whether the execution was successful or not,
when it started and ended, and the number of events that were found in this experiment.</p>
<dl class="exception">
<dt id="orion.db.schema.Datarun.DoesNotExist">
<em class="property">exception </em><code class="sig-name descname">DoesNotExist</code><a class="headerlink" href="#orion.db.schema.Datarun.DoesNotExist" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">mongoengine.errors.DoesNotExist</span></code></p>
</dd></dl>

<dl class="exception">
<dt id="orion.db.schema.Datarun.MultipleObjectsReturned">
<em class="property">exception </em><code class="sig-name descname">MultipleObjectsReturned</code><a class="headerlink" href="#orion.db.schema.Datarun.MultipleObjectsReturned" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">mongoengine.errors.MultipleObjectsReturned</span></code></p>
</dd></dl>

<dl class="attribute">
<dt id="orion.db.schema.Datarun.budget_amount">
<code class="sig-name descname">budget_amount</code><a class="headerlink" href="#orion.db.schema.Datarun.budget_amount" title="Permalink to this definition">¶</a></dt>
<dd><p>32-bit integer field.</p>
</dd></dl>

<dl class="attribute">
<dt id="orion.db.schema.Datarun.budget_type">
<code class="sig-name descname">budget_type</code><a class="headerlink" href="#orion.db.schema.Datarun.budget_type" title="Permalink to this definition">¶</a></dt>
<dd><p>A unicode string field.</p>
</dd></dl>

<dl class="method">
<dt id="orion.db.schema.Datarun.end">
<code class="sig-name descname">end</code><span class="sig-paren">(</span><em class="sig-param">status</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/orion/db/schema.html#Datarun.end"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#orion.db.schema.Datarun.end" title="Permalink to this definition">¶</a></dt>
<dd><p>Mark this Datarun as ended on DB.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">end_time</span></code> will be set to <code class="docutils literal notranslate"><span class="pre">datetime.utcnow()</span></code>, the <code class="docutils literal notranslate"><span class="pre">status</span></code>
will be set to the given value, and the <code class="docutils literal notranslate"><span class="pre">num_events</span></code> field will be
populated with the sum of the events detected by the children Signalruns.</p>
</dd></dl>

<dl class="attribute">
<dt id="orion.db.schema.Datarun.end_time">
<code class="sig-name descname">end_time</code><a class="headerlink" href="#orion.db.schema.Datarun.end_time" title="Permalink to this definition">¶</a></dt>
<dd><p>Datetime field.</p>
<p>Uses the python-dateutil library if available alternatively use time.strptime
to parse the dates.  Note: python-dateutil’s parser is fully featured and when
installed you can utilise it to convert varying types of date formats into valid
python datetime objects.</p>
<p>Note: To default the field to the current datetime, use: DateTimeField(default=datetime.utcnow)</p>
<dl class="simple">
<dt>Note: Microseconds are rounded to the nearest millisecond.</dt><dd><p>Pre UTC microsecond support is effectively broken.
Use <code class="xref py py-class docutils literal notranslate"><span class="pre">ComplexDateTimeField</span></code> if you
need accurate microsecond support.</p>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="orion.db.schema.Datarun.experiment">
<code class="sig-name descname">experiment</code><a class="headerlink" href="#orion.db.schema.Datarun.experiment" title="Permalink to this definition">¶</a></dt>
<dd><p>A reference to a document that will be automatically dereferenced on
access (lazily).</p>
<p>Note this means you will get a database I/O access everytime you access
this field. This is necessary because the field returns a <code class="xref py py-class docutils literal notranslate"><span class="pre">Document</span></code>
which precise type can depend of the value of the <cite>_cls</cite> field present in the
document in database.
In short, using this type of field can lead to poor performances (especially
if you access this field only to retrieve it <cite>pk</cite> field which is already
known before dereference). To solve this you should consider using the
<code class="xref py py-class docutils literal notranslate"><span class="pre">LazyReferenceField</span></code>.</p>
<p>Use the <cite>reverse_delete_rule</cite> to handle what should happen if the document
the field is referencing is deleted.  EmbeddedDocuments, DictFields and
MapFields does not support reverse_delete_rule and an <cite>InvalidDocumentError</cite>
will be raised if trying to set on one of these Document / Field types.</p>
<p>The options are:</p>
<blockquote>
<div><ul class="simple">
<li><p>DO_NOTHING (0)  - don’t do anything (default).</p></li>
<li><p>NULLIFY    (1)  - Updates the reference to null.</p></li>
<li><p>CASCADE    (2)  - Deletes the documents associated with the reference.</p></li>
<li><p>DENY       (3)  - Prevent the deletion of the reference object.</p></li>
<li><p>PULL       (4)  - Pull the reference from a <code class="xref py py-class docutils literal notranslate"><span class="pre">ListField</span></code> of references</p></li>
</ul>
</div></blockquote>
<p>Alternative syntax for registering delete rules (useful when implementing
bi-directional delete rules)</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Org</span><span class="p">(</span><span class="n">Document</span><span class="p">):</span>
    <span class="n">owner</span> <span class="o">=</span> <span class="n">ReferenceField</span><span class="p">(</span><span class="s1">&#39;User&#39;</span><span class="p">)</span>

<span class="k">class</span> <span class="nc">User</span><span class="p">(</span><span class="n">Document</span><span class="p">):</span>
    <span class="n">org</span> <span class="o">=</span> <span class="n">ReferenceField</span><span class="p">(</span><span class="s1">&#39;Org&#39;</span><span class="p">,</span> <span class="n">reverse_delete_rule</span><span class="o">=</span><span class="n">CASCADE</span><span class="p">)</span>

<span class="n">User</span><span class="o">.</span><span class="n">register_delete_rule</span><span class="p">(</span><span class="n">Org</span><span class="p">,</span> <span class="s1">&#39;owner&#39;</span><span class="p">,</span> <span class="n">DENY</span><span class="p">)</span>
</pre></div>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Changed in version 0.5: </span>added <cite>reverse_delete_rule</cite></p>
</div>
</dd></dl>

<dl class="attribute">
<dt id="orion.db.schema.Datarun.id">
<code class="sig-name descname">id</code><a class="headerlink" href="#orion.db.schema.Datarun.id" title="Permalink to this definition">¶</a></dt>
<dd><p>A field wrapper around MongoDB’s ObjectIds.</p>
</dd></dl>

<dl class="attribute">
<dt id="orion.db.schema.Datarun.num_events">
<code class="sig-name descname">num_events</code><a class="headerlink" href="#orion.db.schema.Datarun.num_events" title="Permalink to this definition">¶</a></dt>
<dd><p>32-bit integer field.</p>
</dd></dl>

<dl class="attribute">
<dt id="orion.db.schema.Datarun.objects">
<code class="sig-name descname">objects</code><a class="headerlink" href="#orion.db.schema.Datarun.objects" title="Permalink to this definition">¶</a></dt>
<dd><p>The default QuerySet Manager.</p>
<p>Custom QuerySet Manager functions can extend this class and users can
add extra queryset functionality.  Any custom manager methods must accept a
<code class="xref py py-class docutils literal notranslate"><span class="pre">Document</span></code> class as its first argument, and a
<code class="xref py py-class docutils literal notranslate"><span class="pre">QuerySet</span></code> as its second argument.</p>
<p>The method function should return a <code class="xref py py-class docutils literal notranslate"><span class="pre">QuerySet</span></code>
, probably the same one that was passed in, but modified in some way.</p>
</dd></dl>

<dl class="attribute">
<dt id="orion.db.schema.Datarun.pipeline">
<code class="sig-name descname">pipeline</code><a class="headerlink" href="#orion.db.schema.Datarun.pipeline" title="Permalink to this definition">¶</a></dt>
<dd><p>A reference to a document that will be automatically dereferenced on
access (lazily).</p>
<p>Note this means you will get a database I/O access everytime you access
this field. This is necessary because the field returns a <code class="xref py py-class docutils literal notranslate"><span class="pre">Document</span></code>
which precise type can depend of the value of the <cite>_cls</cite> field present in the
document in database.
In short, using this type of field can lead to poor performances (especially
if you access this field only to retrieve it <cite>pk</cite> field which is already
known before dereference). To solve this you should consider using the
<code class="xref py py-class docutils literal notranslate"><span class="pre">LazyReferenceField</span></code>.</p>
<p>Use the <cite>reverse_delete_rule</cite> to handle what should happen if the document
the field is referencing is deleted.  EmbeddedDocuments, DictFields and
MapFields does not support reverse_delete_rule and an <cite>InvalidDocumentError</cite>
will be raised if trying to set on one of these Document / Field types.</p>
<p>The options are:</p>
<blockquote>
<div><ul class="simple">
<li><p>DO_NOTHING (0)  - don’t do anything (default).</p></li>
<li><p>NULLIFY    (1)  - Updates the reference to null.</p></li>
<li><p>CASCADE    (2)  - Deletes the documents associated with the reference.</p></li>
<li><p>DENY       (3)  - Prevent the deletion of the reference object.</p></li>
<li><p>PULL       (4)  - Pull the reference from a <code class="xref py py-class docutils literal notranslate"><span class="pre">ListField</span></code> of references</p></li>
</ul>
</div></blockquote>
<p>Alternative syntax for registering delete rules (useful when implementing
bi-directional delete rules)</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Org</span><span class="p">(</span><span class="n">Document</span><span class="p">):</span>
    <span class="n">owner</span> <span class="o">=</span> <span class="n">ReferenceField</span><span class="p">(</span><span class="s1">&#39;User&#39;</span><span class="p">)</span>

<span class="k">class</span> <span class="nc">User</span><span class="p">(</span><span class="n">Document</span><span class="p">):</span>
    <span class="n">org</span> <span class="o">=</span> <span class="n">ReferenceField</span><span class="p">(</span><span class="s1">&#39;Org&#39;</span><span class="p">,</span> <span class="n">reverse_delete_rule</span><span class="o">=</span><span class="n">CASCADE</span><span class="p">)</span>

<span class="n">User</span><span class="o">.</span><span class="n">register_delete_rule</span><span class="p">(</span><span class="n">Org</span><span class="p">,</span> <span class="s1">&#39;owner&#39;</span><span class="p">,</span> <span class="n">DENY</span><span class="p">)</span>
</pre></div>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Changed in version 0.5: </span>added <cite>reverse_delete_rule</cite></p>
</div>
</dd></dl>

<dl class="method">
<dt id="orion.db.schema.Datarun.signalruns">
<em class="property">property </em><code class="sig-name descname">signalruns</code><a class="headerlink" href="#orion.db.schema.Datarun.signalruns" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="orion.db.schema.Datarun.software_versions">
<code class="sig-name descname">software_versions</code><a class="headerlink" href="#orion.db.schema.Datarun.software_versions" title="Permalink to this definition">¶</a></dt>
<dd><p>A list field that wraps a standard field, allowing multiple instances
of the field to be used as a list in the database.</p>
<p>If using with ReferenceFields see: <span class="xref std std-ref">one-to-many-with-listfields</span></p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Required means it cannot be empty - as the default for ListFields is []</p>
</div>
</dd></dl>

<dl class="method">
<dt id="orion.db.schema.Datarun.start">
<code class="sig-name descname">start</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/orion/db/schema.html#Datarun.start"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#orion.db.schema.Datarun.start" title="Permalink to this definition">¶</a></dt>
<dd><p>Mark this Datarun as started on DB.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">start_time</span></code> will be set to <code class="docutils literal notranslate"><span class="pre">datetime.utcnow()</span></code>,
the <code class="docutils literal notranslate"><span class="pre">status</span></code> will be set to RUNNING and the software
versions will be captured.</p>
</dd></dl>

<dl class="attribute">
<dt id="orion.db.schema.Datarun.start_time">
<code class="sig-name descname">start_time</code><a class="headerlink" href="#orion.db.schema.Datarun.start_time" title="Permalink to this definition">¶</a></dt>
<dd><p>Datetime field.</p>
<p>Uses the python-dateutil library if available alternatively use time.strptime
to parse the dates.  Note: python-dateutil’s parser is fully featured and when
installed you can utilise it to convert varying types of date formats into valid
python datetime objects.</p>
<p>Note: To default the field to the current datetime, use: DateTimeField(default=datetime.utcnow)</p>
<dl class="simple">
<dt>Note: Microseconds are rounded to the nearest millisecond.</dt><dd><p>Pre UTC microsecond support is effectively broken.
Use <code class="xref py py-class docutils literal notranslate"><span class="pre">ComplexDateTimeField</span></code> if you
need accurate microsecond support.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="orion.db.schema.Dataset">
<em class="property">class </em><code class="sig-prename descclassname">orion.db.schema.</code><code class="sig-name descname">Dataset</code><span class="sig-paren">(</span><em class="sig-param">*args</em>, <em class="sig-param">**values</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/orion/db/schema.html#Dataset"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#orion.db.schema.Dataset" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="orion.db.base.html#orion.db.base.OrionDocument" title="orion.db.base.OrionDocument"><code class="xref py py-class docutils literal notranslate"><span class="pre">orion.db.base.OrionDocument</span></code></a></p>
<p>Dataset object.</p>
<p>A <strong>Dataset</strong> represents a group of Signals that are grouped together under a
common name, which is usually defined by an external entity.</p>
<dl class="exception">
<dt id="orion.db.schema.Dataset.DoesNotExist">
<em class="property">exception </em><code class="sig-name descname">DoesNotExist</code><a class="headerlink" href="#orion.db.schema.Dataset.DoesNotExist" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">mongoengine.errors.DoesNotExist</span></code></p>
</dd></dl>

<dl class="exception">
<dt id="orion.db.schema.Dataset.MultipleObjectsReturned">
<em class="property">exception </em><code class="sig-name descname">MultipleObjectsReturned</code><a class="headerlink" href="#orion.db.schema.Dataset.MultipleObjectsReturned" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">mongoengine.errors.MultipleObjectsReturned</span></code></p>
</dd></dl>

<dl class="attribute">
<dt id="orion.db.schema.Dataset.created_by">
<code class="sig-name descname">created_by</code><a class="headerlink" href="#orion.db.schema.Dataset.created_by" title="Permalink to this definition">¶</a></dt>
<dd><p>A unicode string field.</p>
</dd></dl>

<dl class="attribute">
<dt id="orion.db.schema.Dataset.entity">
<code class="sig-name descname">entity</code><a class="headerlink" href="#orion.db.schema.Dataset.entity" title="Permalink to this definition">¶</a></dt>
<dd><p>A unicode string field.</p>
</dd></dl>

<dl class="attribute">
<dt id="orion.db.schema.Dataset.id">
<code class="sig-name descname">id</code><a class="headerlink" href="#orion.db.schema.Dataset.id" title="Permalink to this definition">¶</a></dt>
<dd><p>A field wrapper around MongoDB’s ObjectIds.</p>
</dd></dl>

<dl class="attribute">
<dt id="orion.db.schema.Dataset.name">
<code class="sig-name descname">name</code><a class="headerlink" href="#orion.db.schema.Dataset.name" title="Permalink to this definition">¶</a></dt>
<dd><p>A unicode string field.</p>
</dd></dl>

<dl class="attribute">
<dt id="orion.db.schema.Dataset.objects">
<code class="sig-name descname">objects</code><a class="headerlink" href="#orion.db.schema.Dataset.objects" title="Permalink to this definition">¶</a></dt>
<dd><p>The default QuerySet Manager.</p>
<p>Custom QuerySet Manager functions can extend this class and users can
add extra queryset functionality.  Any custom manager methods must accept a
<code class="xref py py-class docutils literal notranslate"><span class="pre">Document</span></code> class as its first argument, and a
<code class="xref py py-class docutils literal notranslate"><span class="pre">QuerySet</span></code> as its second argument.</p>
<p>The method function should return a <code class="xref py py-class docutils literal notranslate"><span class="pre">QuerySet</span></code>
, probably the same one that was passed in, but modified in some way.</p>
</dd></dl>

<dl class="method">
<dt id="orion.db.schema.Dataset.signals">
<em class="property">property </em><code class="sig-name descname">signals</code><a class="headerlink" href="#orion.db.schema.Dataset.signals" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="orion.db.schema.Dataset.unique_key_fields">
<code class="sig-name descname">unique_key_fields</code><em class="property"> = ['name', 'entity']</em><a class="headerlink" href="#orion.db.schema.Dataset.unique_key_fields" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="orion.db.schema.Event">
<em class="property">class </em><code class="sig-prename descclassname">orion.db.schema.</code><code class="sig-name descname">Event</code><span class="sig-paren">(</span><em class="sig-param">*args</em>, <em class="sig-param">**values</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/orion/db/schema.html#Event"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#orion.db.schema.Event" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="orion.db.base.html#orion.db.base.OrionDocument" title="orion.db.base.OrionDocument"><code class="xref py py-class docutils literal notranslate"><span class="pre">orion.db.base.OrionDocument</span></code></a></p>
<p>Event object.</p>
<p>An Event represents an anomalous period on a Signal.
It is descrived by start and stop times and, optionally, a severity score.</p>
<p>It is always associated to a Signal and, optionally, to a Signalrun.</p>
<dl class="exception">
<dt id="orion.db.schema.Event.DoesNotExist">
<em class="property">exception </em><code class="sig-name descname">DoesNotExist</code><a class="headerlink" href="#orion.db.schema.Event.DoesNotExist" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">mongoengine.errors.DoesNotExist</span></code></p>
</dd></dl>

<dl class="exception">
<dt id="orion.db.schema.Event.MultipleObjectsReturned">
<em class="property">exception </em><code class="sig-name descname">MultipleObjectsReturned</code><a class="headerlink" href="#orion.db.schema.Event.MultipleObjectsReturned" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">mongoengine.errors.MultipleObjectsReturned</span></code></p>
</dd></dl>

<dl class="attribute">
<dt id="orion.db.schema.Event.SOURCE_CHOICES">
<code class="sig-name descname">SOURCE_CHOICES</code><em class="property"> = ('ORION', 'SHAPE_MATCHING', 'MANUALLY_CREATED')</em><a class="headerlink" href="#orion.db.schema.Event.SOURCE_CHOICES" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="orion.db.schema.Event.SOURCE_MANUALLY_CREATED">
<code class="sig-name descname">SOURCE_MANUALLY_CREATED</code><em class="property"> = 'MANUALLY_CREATED'</em><a class="headerlink" href="#orion.db.schema.Event.SOURCE_MANUALLY_CREATED" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="orion.db.schema.Event.SOURCE_ORION">
<code class="sig-name descname">SOURCE_ORION</code><em class="property"> = 'ORION'</em><a class="headerlink" href="#orion.db.schema.Event.SOURCE_ORION" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="orion.db.schema.Event.SOURCE_SHAPE_MATCHING">
<code class="sig-name descname">SOURCE_SHAPE_MATCHING</code><em class="property"> = 'SHAPE_MATCHING'</em><a class="headerlink" href="#orion.db.schema.Event.SOURCE_SHAPE_MATCHING" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="orion.db.schema.Event.annotations">
<em class="property">property </em><code class="sig-name descname">annotations</code><a class="headerlink" href="#orion.db.schema.Event.annotations" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="orion.db.schema.Event.event_interactions">
<em class="property">property </em><code class="sig-name descname">event_interactions</code><a class="headerlink" href="#orion.db.schema.Event.event_interactions" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="orion.db.schema.Event.id">
<code class="sig-name descname">id</code><a class="headerlink" href="#orion.db.schema.Event.id" title="Permalink to this definition">¶</a></dt>
<dd><p>A field wrapper around MongoDB’s ObjectIds.</p>
</dd></dl>

<dl class="method">
<dt id="orion.db.schema.Event.latest_event_interaction">
<em class="property">property </em><code class="sig-name descname">latest_event_interaction</code><a class="headerlink" href="#orion.db.schema.Event.latest_event_interaction" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="orion.db.schema.Event.num_annotations">
<code class="sig-name descname">num_annotations</code><a class="headerlink" href="#orion.db.schema.Event.num_annotations" title="Permalink to this definition">¶</a></dt>
<dd><p>32-bit integer field.</p>
</dd></dl>

<dl class="attribute">
<dt id="orion.db.schema.Event.objects">
<code class="sig-name descname">objects</code><a class="headerlink" href="#orion.db.schema.Event.objects" title="Permalink to this definition">¶</a></dt>
<dd><p>The default QuerySet Manager.</p>
<p>Custom QuerySet Manager functions can extend this class and users can
add extra queryset functionality.  Any custom manager methods must accept a
<code class="xref py py-class docutils literal notranslate"><span class="pre">Document</span></code> class as its first argument, and a
<code class="xref py py-class docutils literal notranslate"><span class="pre">QuerySet</span></code> as its second argument.</p>
<p>The method function should return a <code class="xref py py-class docutils literal notranslate"><span class="pre">QuerySet</span></code>
, probably the same one that was passed in, but modified in some way.</p>
</dd></dl>

<dl class="attribute">
<dt id="orion.db.schema.Event.severity">
<code class="sig-name descname">severity</code><a class="headerlink" href="#orion.db.schema.Event.severity" title="Permalink to this definition">¶</a></dt>
<dd><p>Floating point number field.</p>
</dd></dl>

<dl class="attribute">
<dt id="orion.db.schema.Event.signal">
<code class="sig-name descname">signal</code><a class="headerlink" href="#orion.db.schema.Event.signal" title="Permalink to this definition">¶</a></dt>
<dd><p>A reference to a document that will be automatically dereferenced on
access (lazily).</p>
<p>Note this means you will get a database I/O access everytime you access
this field. This is necessary because the field returns a <code class="xref py py-class docutils literal notranslate"><span class="pre">Document</span></code>
which precise type can depend of the value of the <cite>_cls</cite> field present in the
document in database.
In short, using this type of field can lead to poor performances (especially
if you access this field only to retrieve it <cite>pk</cite> field which is already
known before dereference). To solve this you should consider using the
<code class="xref py py-class docutils literal notranslate"><span class="pre">LazyReferenceField</span></code>.</p>
<p>Use the <cite>reverse_delete_rule</cite> to handle what should happen if the document
the field is referencing is deleted.  EmbeddedDocuments, DictFields and
MapFields does not support reverse_delete_rule and an <cite>InvalidDocumentError</cite>
will be raised if trying to set on one of these Document / Field types.</p>
<p>The options are:</p>
<blockquote>
<div><ul class="simple">
<li><p>DO_NOTHING (0)  - don’t do anything (default).</p></li>
<li><p>NULLIFY    (1)  - Updates the reference to null.</p></li>
<li><p>CASCADE    (2)  - Deletes the documents associated with the reference.</p></li>
<li><p>DENY       (3)  - Prevent the deletion of the reference object.</p></li>
<li><p>PULL       (4)  - Pull the reference from a <code class="xref py py-class docutils literal notranslate"><span class="pre">ListField</span></code> of references</p></li>
</ul>
</div></blockquote>
<p>Alternative syntax for registering delete rules (useful when implementing
bi-directional delete rules)</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Org</span><span class="p">(</span><span class="n">Document</span><span class="p">):</span>
    <span class="n">owner</span> <span class="o">=</span> <span class="n">ReferenceField</span><span class="p">(</span><span class="s1">&#39;User&#39;</span><span class="p">)</span>

<span class="k">class</span> <span class="nc">User</span><span class="p">(</span><span class="n">Document</span><span class="p">):</span>
    <span class="n">org</span> <span class="o">=</span> <span class="n">ReferenceField</span><span class="p">(</span><span class="s1">&#39;Org&#39;</span><span class="p">,</span> <span class="n">reverse_delete_rule</span><span class="o">=</span><span class="n">CASCADE</span><span class="p">)</span>

<span class="n">User</span><span class="o">.</span><span class="n">register_delete_rule</span><span class="p">(</span><span class="n">Org</span><span class="p">,</span> <span class="s1">&#39;owner&#39;</span><span class="p">,</span> <span class="n">DENY</span><span class="p">)</span>
</pre></div>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Changed in version 0.5: </span>added <cite>reverse_delete_rule</cite></p>
</div>
</dd></dl>

<dl class="attribute">
<dt id="orion.db.schema.Event.signalrun">
<code class="sig-name descname">signalrun</code><a class="headerlink" href="#orion.db.schema.Event.signalrun" title="Permalink to this definition">¶</a></dt>
<dd><p>A reference to a document that will be automatically dereferenced on
access (lazily).</p>
<p>Note this means you will get a database I/O access everytime you access
this field. This is necessary because the field returns a <code class="xref py py-class docutils literal notranslate"><span class="pre">Document</span></code>
which precise type can depend of the value of the <cite>_cls</cite> field present in the
document in database.
In short, using this type of field can lead to poor performances (especially
if you access this field only to retrieve it <cite>pk</cite> field which is already
known before dereference). To solve this you should consider using the
<code class="xref py py-class docutils literal notranslate"><span class="pre">LazyReferenceField</span></code>.</p>
<p>Use the <cite>reverse_delete_rule</cite> to handle what should happen if the document
the field is referencing is deleted.  EmbeddedDocuments, DictFields and
MapFields does not support reverse_delete_rule and an <cite>InvalidDocumentError</cite>
will be raised if trying to set on one of these Document / Field types.</p>
<p>The options are:</p>
<blockquote>
<div><ul class="simple">
<li><p>DO_NOTHING (0)  - don’t do anything (default).</p></li>
<li><p>NULLIFY    (1)  - Updates the reference to null.</p></li>
<li><p>CASCADE    (2)  - Deletes the documents associated with the reference.</p></li>
<li><p>DENY       (3)  - Prevent the deletion of the reference object.</p></li>
<li><p>PULL       (4)  - Pull the reference from a <code class="xref py py-class docutils literal notranslate"><span class="pre">ListField</span></code> of references</p></li>
</ul>
</div></blockquote>
<p>Alternative syntax for registering delete rules (useful when implementing
bi-directional delete rules)</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Org</span><span class="p">(</span><span class="n">Document</span><span class="p">):</span>
    <span class="n">owner</span> <span class="o">=</span> <span class="n">ReferenceField</span><span class="p">(</span><span class="s1">&#39;User&#39;</span><span class="p">)</span>

<span class="k">class</span> <span class="nc">User</span><span class="p">(</span><span class="n">Document</span><span class="p">):</span>
    <span class="n">org</span> <span class="o">=</span> <span class="n">ReferenceField</span><span class="p">(</span><span class="s1">&#39;Org&#39;</span><span class="p">,</span> <span class="n">reverse_delete_rule</span><span class="o">=</span><span class="n">CASCADE</span><span class="p">)</span>

<span class="n">User</span><span class="o">.</span><span class="n">register_delete_rule</span><span class="p">(</span><span class="n">Org</span><span class="p">,</span> <span class="s1">&#39;owner&#39;</span><span class="p">,</span> <span class="n">DENY</span><span class="p">)</span>
</pre></div>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Changed in version 0.5: </span>added <cite>reverse_delete_rule</cite></p>
</div>
</dd></dl>

<dl class="attribute">
<dt id="orion.db.schema.Event.source">
<code class="sig-name descname">source</code><a class="headerlink" href="#orion.db.schema.Event.source" title="Permalink to this definition">¶</a></dt>
<dd><p>A unicode string field.</p>
</dd></dl>

<dl class="attribute">
<dt id="orion.db.schema.Event.start_time">
<code class="sig-name descname">start_time</code><a class="headerlink" href="#orion.db.schema.Event.start_time" title="Permalink to this definition">¶</a></dt>
<dd><p>32-bit integer field.</p>
</dd></dl>

<dl class="attribute">
<dt id="orion.db.schema.Event.stop_time">
<code class="sig-name descname">stop_time</code><a class="headerlink" href="#orion.db.schema.Event.stop_time" title="Permalink to this definition">¶</a></dt>
<dd><p>32-bit integer field.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="orion.db.schema.EventInteraction">
<em class="property">class </em><code class="sig-prename descclassname">orion.db.schema.</code><code class="sig-name descname">EventInteraction</code><span class="sig-paren">(</span><em class="sig-param">*args</em>, <em class="sig-param">**values</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/orion/db/schema.html#EventInteraction"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#orion.db.schema.EventInteraction" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="orion.db.base.html#orion.db.base.OrionDocument" title="orion.db.base.OrionDocument"><code class="xref py py-class docutils literal notranslate"><span class="pre">orion.db.base.OrionDocument</span></code></a></p>
<p>EventInteraction object.</p>
<p>The EventInteraction object represents an interaction of a user with an
Event and includes information about the assocaiated Event, the action
performed and, if changed, the specified start and stop times.</p>
<dl class="exception">
<dt id="orion.db.schema.EventInteraction.DoesNotExist">
<em class="property">exception </em><code class="sig-name descname">DoesNotExist</code><a class="headerlink" href="#orion.db.schema.EventInteraction.DoesNotExist" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">mongoengine.errors.DoesNotExist</span></code></p>
</dd></dl>

<dl class="exception">
<dt id="orion.db.schema.EventInteraction.MultipleObjectsReturned">
<em class="property">exception </em><code class="sig-name descname">MultipleObjectsReturned</code><a class="headerlink" href="#orion.db.schema.EventInteraction.MultipleObjectsReturned" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">mongoengine.errors.MultipleObjectsReturned</span></code></p>
</dd></dl>

<dl class="attribute">
<dt id="orion.db.schema.EventInteraction.action">
<code class="sig-name descname">action</code><a class="headerlink" href="#orion.db.schema.EventInteraction.action" title="Permalink to this definition">¶</a></dt>
<dd><p>A unicode string field.</p>
</dd></dl>

<dl class="attribute">
<dt id="orion.db.schema.EventInteraction.created_by">
<code class="sig-name descname">created_by</code><a class="headerlink" href="#orion.db.schema.EventInteraction.created_by" title="Permalink to this definition">¶</a></dt>
<dd><p>A unicode string field.</p>
</dd></dl>

<dl class="attribute">
<dt id="orion.db.schema.EventInteraction.event">
<code class="sig-name descname">event</code><a class="headerlink" href="#orion.db.schema.EventInteraction.event" title="Permalink to this definition">¶</a></dt>
<dd><p>A reference to a document that will be automatically dereferenced on
access (lazily).</p>
<p>Note this means you will get a database I/O access everytime you access
this field. This is necessary because the field returns a <code class="xref py py-class docutils literal notranslate"><span class="pre">Document</span></code>
which precise type can depend of the value of the <cite>_cls</cite> field present in the
document in database.
In short, using this type of field can lead to poor performances (especially
if you access this field only to retrieve it <cite>pk</cite> field which is already
known before dereference). To solve this you should consider using the
<code class="xref py py-class docutils literal notranslate"><span class="pre">LazyReferenceField</span></code>.</p>
<p>Use the <cite>reverse_delete_rule</cite> to handle what should happen if the document
the field is referencing is deleted.  EmbeddedDocuments, DictFields and
MapFields does not support reverse_delete_rule and an <cite>InvalidDocumentError</cite>
will be raised if trying to set on one of these Document / Field types.</p>
<p>The options are:</p>
<blockquote>
<div><ul class="simple">
<li><p>DO_NOTHING (0)  - don’t do anything (default).</p></li>
<li><p>NULLIFY    (1)  - Updates the reference to null.</p></li>
<li><p>CASCADE    (2)  - Deletes the documents associated with the reference.</p></li>
<li><p>DENY       (3)  - Prevent the deletion of the reference object.</p></li>
<li><p>PULL       (4)  - Pull the reference from a <code class="xref py py-class docutils literal notranslate"><span class="pre">ListField</span></code> of references</p></li>
</ul>
</div></blockquote>
<p>Alternative syntax for registering delete rules (useful when implementing
bi-directional delete rules)</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Org</span><span class="p">(</span><span class="n">Document</span><span class="p">):</span>
    <span class="n">owner</span> <span class="o">=</span> <span class="n">ReferenceField</span><span class="p">(</span><span class="s1">&#39;User&#39;</span><span class="p">)</span>

<span class="k">class</span> <span class="nc">User</span><span class="p">(</span><span class="n">Document</span><span class="p">):</span>
    <span class="n">org</span> <span class="o">=</span> <span class="n">ReferenceField</span><span class="p">(</span><span class="s1">&#39;Org&#39;</span><span class="p">,</span> <span class="n">reverse_delete_rule</span><span class="o">=</span><span class="n">CASCADE</span><span class="p">)</span>

<span class="n">User</span><span class="o">.</span><span class="n">register_delete_rule</span><span class="p">(</span><span class="n">Org</span><span class="p">,</span> <span class="s1">&#39;owner&#39;</span><span class="p">,</span> <span class="n">DENY</span><span class="p">)</span>
</pre></div>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Changed in version 0.5: </span>added <cite>reverse_delete_rule</cite></p>
</div>
</dd></dl>

<dl class="attribute">
<dt id="orion.db.schema.EventInteraction.id">
<code class="sig-name descname">id</code><a class="headerlink" href="#orion.db.schema.EventInteraction.id" title="Permalink to this definition">¶</a></dt>
<dd><p>A field wrapper around MongoDB’s ObjectIds.</p>
</dd></dl>

<dl class="attribute">
<dt id="orion.db.schema.EventInteraction.objects">
<code class="sig-name descname">objects</code><a class="headerlink" href="#orion.db.schema.EventInteraction.objects" title="Permalink to this definition">¶</a></dt>
<dd><p>The default QuerySet Manager.</p>
<p>Custom QuerySet Manager functions can extend this class and users can
add extra queryset functionality.  Any custom manager methods must accept a
<code class="xref py py-class docutils literal notranslate"><span class="pre">Document</span></code> class as its first argument, and a
<code class="xref py py-class docutils literal notranslate"><span class="pre">QuerySet</span></code> as its second argument.</p>
<p>The method function should return a <code class="xref py py-class docutils literal notranslate"><span class="pre">QuerySet</span></code>
, probably the same one that was passed in, but modified in some way.</p>
</dd></dl>

<dl class="attribute">
<dt id="orion.db.schema.EventInteraction.start_time">
<code class="sig-name descname">start_time</code><a class="headerlink" href="#orion.db.schema.EventInteraction.start_time" title="Permalink to this definition">¶</a></dt>
<dd><p>32-bit integer field.</p>
</dd></dl>

<dl class="attribute">
<dt id="orion.db.schema.EventInteraction.stop_time">
<code class="sig-name descname">stop_time</code><a class="headerlink" href="#orion.db.schema.EventInteraction.stop_time" title="Permalink to this definition">¶</a></dt>
<dd><p>32-bit integer field.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="orion.db.schema.Experiment">
<em class="property">class </em><code class="sig-prename descclassname">orion.db.schema.</code><code class="sig-name descname">Experiment</code><span class="sig-paren">(</span><em class="sig-param">*args</em>, <em class="sig-param">**values</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/orion/db/schema.html#Experiment"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#orion.db.schema.Experiment" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="orion.db.base.html#orion.db.base.OrionDocument" title="orion.db.base.OrionDocument"><code class="xref py py-class docutils literal notranslate"><span class="pre">orion.db.base.OrionDocument</span></code></a></p>
<p>Experiment object.</p>
<p>An Experiment is associated with a Dataset, a subset of its Signals and a Template.
It represents a collection of Dataruns, executions of Pipelines generated from the
Experiment Template over its Signals Set.</p>
<dl class="exception">
<dt id="orion.db.schema.Experiment.DoesNotExist">
<em class="property">exception </em><code class="sig-name descname">DoesNotExist</code><a class="headerlink" href="#orion.db.schema.Experiment.DoesNotExist" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">mongoengine.errors.DoesNotExist</span></code></p>
</dd></dl>

<dl class="exception">
<dt id="orion.db.schema.Experiment.MultipleObjectsReturned">
<em class="property">exception </em><code class="sig-name descname">MultipleObjectsReturned</code><a class="headerlink" href="#orion.db.schema.Experiment.MultipleObjectsReturned" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">mongoengine.errors.MultipleObjectsReturned</span></code></p>
</dd></dl>

<dl class="attribute">
<dt id="orion.db.schema.Experiment.created_by">
<code class="sig-name descname">created_by</code><a class="headerlink" href="#orion.db.schema.Experiment.created_by" title="Permalink to this definition">¶</a></dt>
<dd><p>A unicode string field.</p>
</dd></dl>

<dl class="method">
<dt id="orion.db.schema.Experiment.dataruns">
<em class="property">property </em><code class="sig-name descname">dataruns</code><a class="headerlink" href="#orion.db.schema.Experiment.dataruns" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="orion.db.schema.Experiment.dataset">
<code class="sig-name descname">dataset</code><a class="headerlink" href="#orion.db.schema.Experiment.dataset" title="Permalink to this definition">¶</a></dt>
<dd><p>A reference to a document that will be automatically dereferenced on
access (lazily).</p>
<p>Note this means you will get a database I/O access everytime you access
this field. This is necessary because the field returns a <code class="xref py py-class docutils literal notranslate"><span class="pre">Document</span></code>
which precise type can depend of the value of the <cite>_cls</cite> field present in the
document in database.
In short, using this type of field can lead to poor performances (especially
if you access this field only to retrieve it <cite>pk</cite> field which is already
known before dereference). To solve this you should consider using the
<code class="xref py py-class docutils literal notranslate"><span class="pre">LazyReferenceField</span></code>.</p>
<p>Use the <cite>reverse_delete_rule</cite> to handle what should happen if the document
the field is referencing is deleted.  EmbeddedDocuments, DictFields and
MapFields does not support reverse_delete_rule and an <cite>InvalidDocumentError</cite>
will be raised if trying to set on one of these Document / Field types.</p>
<p>The options are:</p>
<blockquote>
<div><ul class="simple">
<li><p>DO_NOTHING (0)  - don’t do anything (default).</p></li>
<li><p>NULLIFY    (1)  - Updates the reference to null.</p></li>
<li><p>CASCADE    (2)  - Deletes the documents associated with the reference.</p></li>
<li><p>DENY       (3)  - Prevent the deletion of the reference object.</p></li>
<li><p>PULL       (4)  - Pull the reference from a <code class="xref py py-class docutils literal notranslate"><span class="pre">ListField</span></code> of references</p></li>
</ul>
</div></blockquote>
<p>Alternative syntax for registering delete rules (useful when implementing
bi-directional delete rules)</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Org</span><span class="p">(</span><span class="n">Document</span><span class="p">):</span>
    <span class="n">owner</span> <span class="o">=</span> <span class="n">ReferenceField</span><span class="p">(</span><span class="s1">&#39;User&#39;</span><span class="p">)</span>

<span class="k">class</span> <span class="nc">User</span><span class="p">(</span><span class="n">Document</span><span class="p">):</span>
    <span class="n">org</span> <span class="o">=</span> <span class="n">ReferenceField</span><span class="p">(</span><span class="s1">&#39;Org&#39;</span><span class="p">,</span> <span class="n">reverse_delete_rule</span><span class="o">=</span><span class="n">CASCADE</span><span class="p">)</span>

<span class="n">User</span><span class="o">.</span><span class="n">register_delete_rule</span><span class="p">(</span><span class="n">Org</span><span class="p">,</span> <span class="s1">&#39;owner&#39;</span><span class="p">,</span> <span class="n">DENY</span><span class="p">)</span>
</pre></div>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Changed in version 0.5: </span>added <cite>reverse_delete_rule</cite></p>
</div>
</dd></dl>

<dl class="attribute">
<dt id="orion.db.schema.Experiment.id">
<code class="sig-name descname">id</code><a class="headerlink" href="#orion.db.schema.Experiment.id" title="Permalink to this definition">¶</a></dt>
<dd><p>A field wrapper around MongoDB’s ObjectIds.</p>
</dd></dl>

<dl class="attribute">
<dt id="orion.db.schema.Experiment.name">
<code class="sig-name descname">name</code><a class="headerlink" href="#orion.db.schema.Experiment.name" title="Permalink to this definition">¶</a></dt>
<dd><p>A unicode string field.</p>
</dd></dl>

<dl class="attribute">
<dt id="orion.db.schema.Experiment.objects">
<code class="sig-name descname">objects</code><a class="headerlink" href="#orion.db.schema.Experiment.objects" title="Permalink to this definition">¶</a></dt>
<dd><p>The default QuerySet Manager.</p>
<p>Custom QuerySet Manager functions can extend this class and users can
add extra queryset functionality.  Any custom manager methods must accept a
<code class="xref py py-class docutils literal notranslate"><span class="pre">Document</span></code> class as its first argument, and a
<code class="xref py py-class docutils literal notranslate"><span class="pre">QuerySet</span></code> as its second argument.</p>
<p>The method function should return a <code class="xref py py-class docutils literal notranslate"><span class="pre">QuerySet</span></code>
, probably the same one that was passed in, but modified in some way.</p>
</dd></dl>

<dl class="attribute">
<dt id="orion.db.schema.Experiment.project">
<code class="sig-name descname">project</code><a class="headerlink" href="#orion.db.schema.Experiment.project" title="Permalink to this definition">¶</a></dt>
<dd><p>A unicode string field.</p>
</dd></dl>

<dl class="attribute">
<dt id="orion.db.schema.Experiment.signals">
<code class="sig-name descname">signals</code><a class="headerlink" href="#orion.db.schema.Experiment.signals" title="Permalink to this definition">¶</a></dt>
<dd><p>A list field that wraps a standard field, allowing multiple instances
of the field to be used as a list in the database.</p>
<p>If using with ReferenceFields see: <span class="xref std std-ref">one-to-many-with-listfields</span></p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Required means it cannot be empty - as the default for ListFields is []</p>
</div>
</dd></dl>

<dl class="attribute">
<dt id="orion.db.schema.Experiment.template">
<code class="sig-name descname">template</code><a class="headerlink" href="#orion.db.schema.Experiment.template" title="Permalink to this definition">¶</a></dt>
<dd><p>A reference to a document that will be automatically dereferenced on
access (lazily).</p>
<p>Note this means you will get a database I/O access everytime you access
this field. This is necessary because the field returns a <code class="xref py py-class docutils literal notranslate"><span class="pre">Document</span></code>
which precise type can depend of the value of the <cite>_cls</cite> field present in the
document in database.
In short, using this type of field can lead to poor performances (especially
if you access this field only to retrieve it <cite>pk</cite> field which is already
known before dereference). To solve this you should consider using the
<code class="xref py py-class docutils literal notranslate"><span class="pre">LazyReferenceField</span></code>.</p>
<p>Use the <cite>reverse_delete_rule</cite> to handle what should happen if the document
the field is referencing is deleted.  EmbeddedDocuments, DictFields and
MapFields does not support reverse_delete_rule and an <cite>InvalidDocumentError</cite>
will be raised if trying to set on one of these Document / Field types.</p>
<p>The options are:</p>
<blockquote>
<div><ul class="simple">
<li><p>DO_NOTHING (0)  - don’t do anything (default).</p></li>
<li><p>NULLIFY    (1)  - Updates the reference to null.</p></li>
<li><p>CASCADE    (2)  - Deletes the documents associated with the reference.</p></li>
<li><p>DENY       (3)  - Prevent the deletion of the reference object.</p></li>
<li><p>PULL       (4)  - Pull the reference from a <code class="xref py py-class docutils literal notranslate"><span class="pre">ListField</span></code> of references</p></li>
</ul>
</div></blockquote>
<p>Alternative syntax for registering delete rules (useful when implementing
bi-directional delete rules)</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Org</span><span class="p">(</span><span class="n">Document</span><span class="p">):</span>
    <span class="n">owner</span> <span class="o">=</span> <span class="n">ReferenceField</span><span class="p">(</span><span class="s1">&#39;User&#39;</span><span class="p">)</span>

<span class="k">class</span> <span class="nc">User</span><span class="p">(</span><span class="n">Document</span><span class="p">):</span>
    <span class="n">org</span> <span class="o">=</span> <span class="n">ReferenceField</span><span class="p">(</span><span class="s1">&#39;Org&#39;</span><span class="p">,</span> <span class="n">reverse_delete_rule</span><span class="o">=</span><span class="n">CASCADE</span><span class="p">)</span>

<span class="n">User</span><span class="o">.</span><span class="n">register_delete_rule</span><span class="p">(</span><span class="n">Org</span><span class="p">,</span> <span class="s1">&#39;owner&#39;</span><span class="p">,</span> <span class="n">DENY</span><span class="p">)</span>
</pre></div>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Changed in version 0.5: </span>added <cite>reverse_delete_rule</cite></p>
</div>
</dd></dl>

<dl class="attribute">
<dt id="orion.db.schema.Experiment.unique_key_fields">
<code class="sig-name descname">unique_key_fields</code><em class="property"> = ['name', 'project']</em><a class="headerlink" href="#orion.db.schema.Experiment.unique_key_fields" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="orion.db.schema.Pipeline">
<em class="property">class </em><code class="sig-prename descclassname">orion.db.schema.</code><code class="sig-name descname">Pipeline</code><span class="sig-paren">(</span><em class="sig-param">*args</em>, <em class="sig-param">**values</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/orion/db/schema.html#Pipeline"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#orion.db.schema.Pipeline" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="orion.db.base.html#orion.db.base.OrionDocument" title="orion.db.base.OrionDocument"><code class="xref py py-class docutils literal notranslate"><span class="pre">orion.db.base.OrionDocument</span></code></a></p>
<p>Pipeline object.</p>
<p>A <strong>Pipeline</strong> represents an MLPipeline object.
It is derived from a Template by setting a specific set of
hyperparameter values.</p>
<dl class="exception">
<dt id="orion.db.schema.Pipeline.DoesNotExist">
<em class="property">exception </em><code class="sig-name descname">DoesNotExist</code><a class="headerlink" href="#orion.db.schema.Pipeline.DoesNotExist" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">mongoengine.errors.DoesNotExist</span></code></p>
</dd></dl>

<dl class="exception">
<dt id="orion.db.schema.Pipeline.MultipleObjectsReturned">
<em class="property">exception </em><code class="sig-name descname">MultipleObjectsReturned</code><a class="headerlink" href="#orion.db.schema.Pipeline.MultipleObjectsReturned" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">mongoengine.errors.MultipleObjectsReturned</span></code></p>
</dd></dl>

<dl class="attribute">
<dt id="orion.db.schema.Pipeline.created_by">
<code class="sig-name descname">created_by</code><a class="headerlink" href="#orion.db.schema.Pipeline.created_by" title="Permalink to this definition">¶</a></dt>
<dd><p>A unicode string field.</p>
</dd></dl>

<dl class="attribute">
<dt id="orion.db.schema.Pipeline.id">
<code class="sig-name descname">id</code><a class="headerlink" href="#orion.db.schema.Pipeline.id" title="Permalink to this definition">¶</a></dt>
<dd><p>A field wrapper around MongoDB’s ObjectIds.</p>
</dd></dl>

<dl class="attribute">
<dt id="orion.db.schema.Pipeline.json">
<code class="sig-name descname">json</code><a class="headerlink" href="#orion.db.schema.Pipeline.json" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="orion.db.schema.Pipeline.load">
<code class="sig-name descname">load</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/orion/db/schema.html#Pipeline.load"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#orion.db.schema.Pipeline.load" title="Permalink to this definition">¶</a></dt>
<dd><p>Load this Pipeline as an MLPipeline.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>MLPipeline</p>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="orion.db.schema.Pipeline.name">
<code class="sig-name descname">name</code><a class="headerlink" href="#orion.db.schema.Pipeline.name" title="Permalink to this definition">¶</a></dt>
<dd><p>A unicode string field.</p>
</dd></dl>

<dl class="attribute">
<dt id="orion.db.schema.Pipeline.objects">
<code class="sig-name descname">objects</code><a class="headerlink" href="#orion.db.schema.Pipeline.objects" title="Permalink to this definition">¶</a></dt>
<dd><p>The default QuerySet Manager.</p>
<p>Custom QuerySet Manager functions can extend this class and users can
add extra queryset functionality.  Any custom manager methods must accept a
<code class="xref py py-class docutils literal notranslate"><span class="pre">Document</span></code> class as its first argument, and a
<code class="xref py py-class docutils literal notranslate"><span class="pre">QuerySet</span></code> as its second argument.</p>
<p>The method function should return a <code class="xref py py-class docutils literal notranslate"><span class="pre">QuerySet</span></code>
, probably the same one that was passed in, but modified in some way.</p>
</dd></dl>

<dl class="attribute">
<dt id="orion.db.schema.Pipeline.template">
<code class="sig-name descname">template</code><a class="headerlink" href="#orion.db.schema.Pipeline.template" title="Permalink to this definition">¶</a></dt>
<dd><p>A reference to a document that will be automatically dereferenced on
access (lazily).</p>
<p>Note this means you will get a database I/O access everytime you access
this field. This is necessary because the field returns a <code class="xref py py-class docutils literal notranslate"><span class="pre">Document</span></code>
which precise type can depend of the value of the <cite>_cls</cite> field present in the
document in database.
In short, using this type of field can lead to poor performances (especially
if you access this field only to retrieve it <cite>pk</cite> field which is already
known before dereference). To solve this you should consider using the
<code class="xref py py-class docutils literal notranslate"><span class="pre">LazyReferenceField</span></code>.</p>
<p>Use the <cite>reverse_delete_rule</cite> to handle what should happen if the document
the field is referencing is deleted.  EmbeddedDocuments, DictFields and
MapFields does not support reverse_delete_rule and an <cite>InvalidDocumentError</cite>
will be raised if trying to set on one of these Document / Field types.</p>
<p>The options are:</p>
<blockquote>
<div><ul class="simple">
<li><p>DO_NOTHING (0)  - don’t do anything (default).</p></li>
<li><p>NULLIFY    (1)  - Updates the reference to null.</p></li>
<li><p>CASCADE    (2)  - Deletes the documents associated with the reference.</p></li>
<li><p>DENY       (3)  - Prevent the deletion of the reference object.</p></li>
<li><p>PULL       (4)  - Pull the reference from a <code class="xref py py-class docutils literal notranslate"><span class="pre">ListField</span></code> of references</p></li>
</ul>
</div></blockquote>
<p>Alternative syntax for registering delete rules (useful when implementing
bi-directional delete rules)</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Org</span><span class="p">(</span><span class="n">Document</span><span class="p">):</span>
    <span class="n">owner</span> <span class="o">=</span> <span class="n">ReferenceField</span><span class="p">(</span><span class="s1">&#39;User&#39;</span><span class="p">)</span>

<span class="k">class</span> <span class="nc">User</span><span class="p">(</span><span class="n">Document</span><span class="p">):</span>
    <span class="n">org</span> <span class="o">=</span> <span class="n">ReferenceField</span><span class="p">(</span><span class="s1">&#39;Org&#39;</span><span class="p">,</span> <span class="n">reverse_delete_rule</span><span class="o">=</span><span class="n">CASCADE</span><span class="p">)</span>

<span class="n">User</span><span class="o">.</span><span class="n">register_delete_rule</span><span class="p">(</span><span class="n">Org</span><span class="p">,</span> <span class="s1">&#39;owner&#39;</span><span class="p">,</span> <span class="n">DENY</span><span class="p">)</span>
</pre></div>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Changed in version 0.5: </span>added <cite>reverse_delete_rule</cite></p>
</div>
</dd></dl>

<dl class="attribute">
<dt id="orion.db.schema.Pipeline.unique_key_fields">
<code class="sig-name descname">unique_key_fields</code><em class="property"> = ['name', 'template']</em><a class="headerlink" href="#orion.db.schema.Pipeline.unique_key_fields" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="orion.db.schema.Signal">
<em class="property">class </em><code class="sig-prename descclassname">orion.db.schema.</code><code class="sig-name descname">Signal</code><span class="sig-paren">(</span><em class="sig-param">*args</em>, <em class="sig-param">**values</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/orion/db/schema.html#Signal"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#orion.db.schema.Signal" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="orion.db.base.html#orion.db.base.OrionDocument" title="orion.db.base.OrionDocument"><code class="xref py py-class docutils literal notranslate"><span class="pre">orion.db.base.OrionDocument</span></code></a></p>
<p>Signal object.</p>
<p>A Signal belongs to a Dataset and contains all the required details to be
able to load the observations from a timeseries signal, as well as some
metadata about it, such as the minimum and maximum timestamps that have to
be used.</p>
<dl class="exception">
<dt id="orion.db.schema.Signal.DoesNotExist">
<em class="property">exception </em><code class="sig-name descname">DoesNotExist</code><a class="headerlink" href="#orion.db.schema.Signal.DoesNotExist" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">mongoengine.errors.DoesNotExist</span></code></p>
</dd></dl>

<dl class="exception">
<dt id="orion.db.schema.Signal.MultipleObjectsReturned">
<em class="property">exception </em><code class="sig-name descname">MultipleObjectsReturned</code><a class="headerlink" href="#orion.db.schema.Signal.MultipleObjectsReturned" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">mongoengine.errors.MultipleObjectsReturned</span></code></p>
</dd></dl>

<dl class="attribute">
<dt id="orion.db.schema.Signal.created_by">
<code class="sig-name descname">created_by</code><a class="headerlink" href="#orion.db.schema.Signal.created_by" title="Permalink to this definition">¶</a></dt>
<dd><p>A unicode string field.</p>
</dd></dl>

<dl class="attribute">
<dt id="orion.db.schema.Signal.data_location">
<code class="sig-name descname">data_location</code><a class="headerlink" href="#orion.db.schema.Signal.data_location" title="Permalink to this definition">¶</a></dt>
<dd><p>A unicode string field.</p>
</dd></dl>

<dl class="attribute">
<dt id="orion.db.schema.Signal.dataset">
<code class="sig-name descname">dataset</code><a class="headerlink" href="#orion.db.schema.Signal.dataset" title="Permalink to this definition">¶</a></dt>
<dd><p>A reference to a document that will be automatically dereferenced on
access (lazily).</p>
<p>Note this means you will get a database I/O access everytime you access
this field. This is necessary because the field returns a <code class="xref py py-class docutils literal notranslate"><span class="pre">Document</span></code>
which precise type can depend of the value of the <cite>_cls</cite> field present in the
document in database.
In short, using this type of field can lead to poor performances (especially
if you access this field only to retrieve it <cite>pk</cite> field which is already
known before dereference). To solve this you should consider using the
<code class="xref py py-class docutils literal notranslate"><span class="pre">LazyReferenceField</span></code>.</p>
<p>Use the <cite>reverse_delete_rule</cite> to handle what should happen if the document
the field is referencing is deleted.  EmbeddedDocuments, DictFields and
MapFields does not support reverse_delete_rule and an <cite>InvalidDocumentError</cite>
will be raised if trying to set on one of these Document / Field types.</p>
<p>The options are:</p>
<blockquote>
<div><ul class="simple">
<li><p>DO_NOTHING (0)  - don’t do anything (default).</p></li>
<li><p>NULLIFY    (1)  - Updates the reference to null.</p></li>
<li><p>CASCADE    (2)  - Deletes the documents associated with the reference.</p></li>
<li><p>DENY       (3)  - Prevent the deletion of the reference object.</p></li>
<li><p>PULL       (4)  - Pull the reference from a <code class="xref py py-class docutils literal notranslate"><span class="pre">ListField</span></code> of references</p></li>
</ul>
</div></blockquote>
<p>Alternative syntax for registering delete rules (useful when implementing
bi-directional delete rules)</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Org</span><span class="p">(</span><span class="n">Document</span><span class="p">):</span>
    <span class="n">owner</span> <span class="o">=</span> <span class="n">ReferenceField</span><span class="p">(</span><span class="s1">&#39;User&#39;</span><span class="p">)</span>

<span class="k">class</span> <span class="nc">User</span><span class="p">(</span><span class="n">Document</span><span class="p">):</span>
    <span class="n">org</span> <span class="o">=</span> <span class="n">ReferenceField</span><span class="p">(</span><span class="s1">&#39;Org&#39;</span><span class="p">,</span> <span class="n">reverse_delete_rule</span><span class="o">=</span><span class="n">CASCADE</span><span class="p">)</span>

<span class="n">User</span><span class="o">.</span><span class="n">register_delete_rule</span><span class="p">(</span><span class="n">Org</span><span class="p">,</span> <span class="s1">&#39;owner&#39;</span><span class="p">,</span> <span class="n">DENY</span><span class="p">)</span>
</pre></div>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Changed in version 0.5: </span>added <cite>reverse_delete_rule</cite></p>
</div>
</dd></dl>

<dl class="attribute">
<dt id="orion.db.schema.Signal.id">
<code class="sig-name descname">id</code><a class="headerlink" href="#orion.db.schema.Signal.id" title="Permalink to this definition">¶</a></dt>
<dd><p>A field wrapper around MongoDB’s ObjectIds.</p>
</dd></dl>

<dl class="method">
<dt id="orion.db.schema.Signal.load">
<code class="sig-name descname">load</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/orion/db/schema.html#Signal.load"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#orion.db.schema.Signal.load" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="orion.db.schema.Signal.name">
<code class="sig-name descname">name</code><a class="headerlink" href="#orion.db.schema.Signal.name" title="Permalink to this definition">¶</a></dt>
<dd><p>A unicode string field.</p>
</dd></dl>

<dl class="attribute">
<dt id="orion.db.schema.Signal.objects">
<code class="sig-name descname">objects</code><a class="headerlink" href="#orion.db.schema.Signal.objects" title="Permalink to this definition">¶</a></dt>
<dd><p>The default QuerySet Manager.</p>
<p>Custom QuerySet Manager functions can extend this class and users can
add extra queryset functionality.  Any custom manager methods must accept a
<code class="xref py py-class docutils literal notranslate"><span class="pre">Document</span></code> class as its first argument, and a
<code class="xref py py-class docutils literal notranslate"><span class="pre">QuerySet</span></code> as its second argument.</p>
<p>The method function should return a <code class="xref py py-class docutils literal notranslate"><span class="pre">QuerySet</span></code>
, probably the same one that was passed in, but modified in some way.</p>
</dd></dl>

<dl class="attribute">
<dt id="orion.db.schema.Signal.start_time">
<code class="sig-name descname">start_time</code><a class="headerlink" href="#orion.db.schema.Signal.start_time" title="Permalink to this definition">¶</a></dt>
<dd><p>32-bit integer field.</p>
</dd></dl>

<dl class="attribute">
<dt id="orion.db.schema.Signal.stop_time">
<code class="sig-name descname">stop_time</code><a class="headerlink" href="#orion.db.schema.Signal.stop_time" title="Permalink to this definition">¶</a></dt>
<dd><p>32-bit integer field.</p>
</dd></dl>

<dl class="attribute">
<dt id="orion.db.schema.Signal.timestamp_column">
<code class="sig-name descname">timestamp_column</code><a class="headerlink" href="#orion.db.schema.Signal.timestamp_column" title="Permalink to this definition">¶</a></dt>
<dd><p>32-bit integer field.</p>
</dd></dl>

<dl class="attribute">
<dt id="orion.db.schema.Signal.unique_key_fields">
<code class="sig-name descname">unique_key_fields</code><em class="property"> = ['name', 'dataset']</em><a class="headerlink" href="#orion.db.schema.Signal.unique_key_fields" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="orion.db.schema.Signal.value_column">
<code class="sig-name descname">value_column</code><a class="headerlink" href="#orion.db.schema.Signal.value_column" title="Permalink to this definition">¶</a></dt>
<dd><p>32-bit integer field.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="orion.db.schema.Signalrun">
<em class="property">class </em><code class="sig-prename descclassname">orion.db.schema.</code><code class="sig-name descname">Signalrun</code><span class="sig-paren">(</span><em class="sig-param">*args</em>, <em class="sig-param">**values</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/orion/db/schema.html#Signalrun"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#orion.db.schema.Signalrun" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="orion.db.base.html#orion.db.base.OrionDocument" title="orion.db.base.OrionDocument"><code class="xref py py-class docutils literal notranslate"><span class="pre">orion.db.base.OrionDocument</span></code></a>, <a class="reference internal" href="orion.db.base.html#orion.db.base.Status" title="orion.db.base.Status"><code class="xref py py-class docutils literal notranslate"><span class="pre">orion.db.base.Status</span></code></a></p>
<p>Signalrun object.</p>
<p>The Signalrun object represents a single executions of a Pipeline on a Signal
within a Datarun.</p>
<p>It contains information about whether the execution was successful or not, when
it started and ended, the number of events that were found by the Pipeline, and
where the model and metrics are stored.</p>
<dl class="exception">
<dt id="orion.db.schema.Signalrun.DoesNotExist">
<em class="property">exception </em><code class="sig-name descname">DoesNotExist</code><a class="headerlink" href="#orion.db.schema.Signalrun.DoesNotExist" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">mongoengine.errors.DoesNotExist</span></code></p>
</dd></dl>

<dl class="exception">
<dt id="orion.db.schema.Signalrun.MultipleObjectsReturned">
<em class="property">exception </em><code class="sig-name descname">MultipleObjectsReturned</code><a class="headerlink" href="#orion.db.schema.Signalrun.MultipleObjectsReturned" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">mongoengine.errors.MultipleObjectsReturned</span></code></p>
</dd></dl>

<dl class="attribute">
<dt id="orion.db.schema.Signalrun.datarun">
<code class="sig-name descname">datarun</code><a class="headerlink" href="#orion.db.schema.Signalrun.datarun" title="Permalink to this definition">¶</a></dt>
<dd><p>A reference to a document that will be automatically dereferenced on
access (lazily).</p>
<p>Note this means you will get a database I/O access everytime you access
this field. This is necessary because the field returns a <code class="xref py py-class docutils literal notranslate"><span class="pre">Document</span></code>
which precise type can depend of the value of the <cite>_cls</cite> field present in the
document in database.
In short, using this type of field can lead to poor performances (especially
if you access this field only to retrieve it <cite>pk</cite> field which is already
known before dereference). To solve this you should consider using the
<code class="xref py py-class docutils literal notranslate"><span class="pre">LazyReferenceField</span></code>.</p>
<p>Use the <cite>reverse_delete_rule</cite> to handle what should happen if the document
the field is referencing is deleted.  EmbeddedDocuments, DictFields and
MapFields does not support reverse_delete_rule and an <cite>InvalidDocumentError</cite>
will be raised if trying to set on one of these Document / Field types.</p>
<p>The options are:</p>
<blockquote>
<div><ul class="simple">
<li><p>DO_NOTHING (0)  - don’t do anything (default).</p></li>
<li><p>NULLIFY    (1)  - Updates the reference to null.</p></li>
<li><p>CASCADE    (2)  - Deletes the documents associated with the reference.</p></li>
<li><p>DENY       (3)  - Prevent the deletion of the reference object.</p></li>
<li><p>PULL       (4)  - Pull the reference from a <code class="xref py py-class docutils literal notranslate"><span class="pre">ListField</span></code> of references</p></li>
</ul>
</div></blockquote>
<p>Alternative syntax for registering delete rules (useful when implementing
bi-directional delete rules)</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Org</span><span class="p">(</span><span class="n">Document</span><span class="p">):</span>
    <span class="n">owner</span> <span class="o">=</span> <span class="n">ReferenceField</span><span class="p">(</span><span class="s1">&#39;User&#39;</span><span class="p">)</span>

<span class="k">class</span> <span class="nc">User</span><span class="p">(</span><span class="n">Document</span><span class="p">):</span>
    <span class="n">org</span> <span class="o">=</span> <span class="n">ReferenceField</span><span class="p">(</span><span class="s1">&#39;Org&#39;</span><span class="p">,</span> <span class="n">reverse_delete_rule</span><span class="o">=</span><span class="n">CASCADE</span><span class="p">)</span>

<span class="n">User</span><span class="o">.</span><span class="n">register_delete_rule</span><span class="p">(</span><span class="n">Org</span><span class="p">,</span> <span class="s1">&#39;owner&#39;</span><span class="p">,</span> <span class="n">DENY</span><span class="p">)</span>
</pre></div>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Changed in version 0.5: </span>added <cite>reverse_delete_rule</cite></p>
</div>
</dd></dl>

<dl class="method">
<dt id="orion.db.schema.Signalrun.end">
<code class="sig-name descname">end</code><span class="sig-paren">(</span><em class="sig-param">status</em>, <em class="sig-param">events</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/orion/db/schema.html#Signalrun.end"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#orion.db.schema.Signalrun.end" title="Permalink to this definition">¶</a></dt>
<dd><p>Mark this Signalrun as ended on DB.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">end_time</span></code> will be set to <code class="docutils literal notranslate"><span class="pre">datetime.utcnow()</span></code>, the <code class="docutils literal notranslate"><span class="pre">status</span></code>
will be set to the given value, and the given events will be inserted
into the Database.</p>
</dd></dl>

<dl class="attribute">
<dt id="orion.db.schema.Signalrun.end_time">
<code class="sig-name descname">end_time</code><a class="headerlink" href="#orion.db.schema.Signalrun.end_time" title="Permalink to this definition">¶</a></dt>
<dd><p>Datetime field.</p>
<p>Uses the python-dateutil library if available alternatively use time.strptime
to parse the dates.  Note: python-dateutil’s parser is fully featured and when
installed you can utilise it to convert varying types of date formats into valid
python datetime objects.</p>
<p>Note: To default the field to the current datetime, use: DateTimeField(default=datetime.utcnow)</p>
<dl class="simple">
<dt>Note: Microseconds are rounded to the nearest millisecond.</dt><dd><p>Pre UTC microsecond support is effectively broken.
Use <code class="xref py py-class docutils literal notranslate"><span class="pre">ComplexDateTimeField</span></code> if you
need accurate microsecond support.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="orion.db.schema.Signalrun.events">
<em class="property">property </em><code class="sig-name descname">events</code><a class="headerlink" href="#orion.db.schema.Signalrun.events" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="orion.db.schema.Signalrun.id">
<code class="sig-name descname">id</code><a class="headerlink" href="#orion.db.schema.Signalrun.id" title="Permalink to this definition">¶</a></dt>
<dd><p>A field wrapper around MongoDB’s ObjectIds.</p>
</dd></dl>

<dl class="attribute">
<dt id="orion.db.schema.Signalrun.metrics_location">
<code class="sig-name descname">metrics_location</code><a class="headerlink" href="#orion.db.schema.Signalrun.metrics_location" title="Permalink to this definition">¶</a></dt>
<dd><p>A unicode string field.</p>
</dd></dl>

<dl class="attribute">
<dt id="orion.db.schema.Signalrun.model_location">
<code class="sig-name descname">model_location</code><a class="headerlink" href="#orion.db.schema.Signalrun.model_location" title="Permalink to this definition">¶</a></dt>
<dd><p>A unicode string field.</p>
</dd></dl>

<dl class="attribute">
<dt id="orion.db.schema.Signalrun.num_events">
<code class="sig-name descname">num_events</code><a class="headerlink" href="#orion.db.schema.Signalrun.num_events" title="Permalink to this definition">¶</a></dt>
<dd><p>32-bit integer field.</p>
</dd></dl>

<dl class="attribute">
<dt id="orion.db.schema.Signalrun.objects">
<code class="sig-name descname">objects</code><a class="headerlink" href="#orion.db.schema.Signalrun.objects" title="Permalink to this definition">¶</a></dt>
<dd><p>The default QuerySet Manager.</p>
<p>Custom QuerySet Manager functions can extend this class and users can
add extra queryset functionality.  Any custom manager methods must accept a
<code class="xref py py-class docutils literal notranslate"><span class="pre">Document</span></code> class as its first argument, and a
<code class="xref py py-class docutils literal notranslate"><span class="pre">QuerySet</span></code> as its second argument.</p>
<p>The method function should return a <code class="xref py py-class docutils literal notranslate"><span class="pre">QuerySet</span></code>
, probably the same one that was passed in, but modified in some way.</p>
</dd></dl>

<dl class="attribute">
<dt id="orion.db.schema.Signalrun.signal">
<code class="sig-name descname">signal</code><a class="headerlink" href="#orion.db.schema.Signalrun.signal" title="Permalink to this definition">¶</a></dt>
<dd><p>A reference to a document that will be automatically dereferenced on
access (lazily).</p>
<p>Note this means you will get a database I/O access everytime you access
this field. This is necessary because the field returns a <code class="xref py py-class docutils literal notranslate"><span class="pre">Document</span></code>
which precise type can depend of the value of the <cite>_cls</cite> field present in the
document in database.
In short, using this type of field can lead to poor performances (especially
if you access this field only to retrieve it <cite>pk</cite> field which is already
known before dereference). To solve this you should consider using the
<code class="xref py py-class docutils literal notranslate"><span class="pre">LazyReferenceField</span></code>.</p>
<p>Use the <cite>reverse_delete_rule</cite> to handle what should happen if the document
the field is referencing is deleted.  EmbeddedDocuments, DictFields and
MapFields does not support reverse_delete_rule and an <cite>InvalidDocumentError</cite>
will be raised if trying to set on one of these Document / Field types.</p>
<p>The options are:</p>
<blockquote>
<div><ul class="simple">
<li><p>DO_NOTHING (0)  - don’t do anything (default).</p></li>
<li><p>NULLIFY    (1)  - Updates the reference to null.</p></li>
<li><p>CASCADE    (2)  - Deletes the documents associated with the reference.</p></li>
<li><p>DENY       (3)  - Prevent the deletion of the reference object.</p></li>
<li><p>PULL       (4)  - Pull the reference from a <code class="xref py py-class docutils literal notranslate"><span class="pre">ListField</span></code> of references</p></li>
</ul>
</div></blockquote>
<p>Alternative syntax for registering delete rules (useful when implementing
bi-directional delete rules)</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Org</span><span class="p">(</span><span class="n">Document</span><span class="p">):</span>
    <span class="n">owner</span> <span class="o">=</span> <span class="n">ReferenceField</span><span class="p">(</span><span class="s1">&#39;User&#39;</span><span class="p">)</span>

<span class="k">class</span> <span class="nc">User</span><span class="p">(</span><span class="n">Document</span><span class="p">):</span>
    <span class="n">org</span> <span class="o">=</span> <span class="n">ReferenceField</span><span class="p">(</span><span class="s1">&#39;Org&#39;</span><span class="p">,</span> <span class="n">reverse_delete_rule</span><span class="o">=</span><span class="n">CASCADE</span><span class="p">)</span>

<span class="n">User</span><span class="o">.</span><span class="n">register_delete_rule</span><span class="p">(</span><span class="n">Org</span><span class="p">,</span> <span class="s1">&#39;owner&#39;</span><span class="p">,</span> <span class="n">DENY</span><span class="p">)</span>
</pre></div>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Changed in version 0.5: </span>added <cite>reverse_delete_rule</cite></p>
</div>
</dd></dl>

<dl class="method">
<dt id="orion.db.schema.Signalrun.start">
<code class="sig-name descname">start</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/orion/db/schema.html#Signalrun.start"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#orion.db.schema.Signalrun.start" title="Permalink to this definition">¶</a></dt>
<dd><p>Mark this Signalrun as started on DB.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">start_time</span></code> will be set to <code class="docutils literal notranslate"><span class="pre">datetime.utcnow()</span></code>,
the <code class="docutils literal notranslate"><span class="pre">status</span></code> will be set to RUNNING.</p>
</dd></dl>

<dl class="attribute">
<dt id="orion.db.schema.Signalrun.start_time">
<code class="sig-name descname">start_time</code><a class="headerlink" href="#orion.db.schema.Signalrun.start_time" title="Permalink to this definition">¶</a></dt>
<dd><p>Datetime field.</p>
<p>Uses the python-dateutil library if available alternatively use time.strptime
to parse the dates.  Note: python-dateutil’s parser is fully featured and when
installed you can utilise it to convert varying types of date formats into valid
python datetime objects.</p>
<p>Note: To default the field to the current datetime, use: DateTimeField(default=datetime.utcnow)</p>
<dl class="simple">
<dt>Note: Microseconds are rounded to the nearest millisecond.</dt><dd><p>Pre UTC microsecond support is effectively broken.
Use <code class="xref py py-class docutils literal notranslate"><span class="pre">ComplexDateTimeField</span></code> if you
need accurate microsecond support.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="orion.db.schema.Template">
<em class="property">class </em><code class="sig-prename descclassname">orion.db.schema.</code><code class="sig-name descname">Template</code><span class="sig-paren">(</span><em class="sig-param">*args</em>, <em class="sig-param">**values</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/orion/db/schema.html#Template"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#orion.db.schema.Template" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="orion.db.base.html#orion.db.base.OrionDocument" title="orion.db.base.OrionDocument"><code class="xref py py-class docutils literal notranslate"><span class="pre">orion.db.base.OrionDocument</span></code></a></p>
<p>Template object.</p>
<p>A <strong>Template</strong> represents an MLPipeline template from which later on
Pipelines will be derived to run on Experiments with different hyperparameter
values.</p>
<p>The Template includes the complete JSON specification of the MLPipeline it
represents.</p>
<dl class="exception">
<dt id="orion.db.schema.Template.DoesNotExist">
<em class="property">exception </em><code class="sig-name descname">DoesNotExist</code><a class="headerlink" href="#orion.db.schema.Template.DoesNotExist" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">mongoengine.errors.DoesNotExist</span></code></p>
</dd></dl>

<dl class="exception">
<dt id="orion.db.schema.Template.MultipleObjectsReturned">
<em class="property">exception </em><code class="sig-name descname">MultipleObjectsReturned</code><a class="headerlink" href="#orion.db.schema.Template.MultipleObjectsReturned" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">mongoengine.errors.MultipleObjectsReturned</span></code></p>
</dd></dl>

<dl class="attribute">
<dt id="orion.db.schema.Template.created_by">
<code class="sig-name descname">created_by</code><a class="headerlink" href="#orion.db.schema.Template.created_by" title="Permalink to this definition">¶</a></dt>
<dd><p>A unicode string field.</p>
</dd></dl>

<dl class="attribute">
<dt id="orion.db.schema.Template.id">
<code class="sig-name descname">id</code><a class="headerlink" href="#orion.db.schema.Template.id" title="Permalink to this definition">¶</a></dt>
<dd><p>A field wrapper around MongoDB’s ObjectIds.</p>
</dd></dl>

<dl class="attribute">
<dt id="orion.db.schema.Template.json">
<code class="sig-name descname">json</code><a class="headerlink" href="#orion.db.schema.Template.json" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="orion.db.schema.Template.load">
<code class="sig-name descname">load</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/orion/db/schema.html#Template.load"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#orion.db.schema.Template.load" title="Permalink to this definition">¶</a></dt>
<dd><p>Load this Template as an MLPipeline.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>MLPipeline</p>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="orion.db.schema.Template.name">
<code class="sig-name descname">name</code><a class="headerlink" href="#orion.db.schema.Template.name" title="Permalink to this definition">¶</a></dt>
<dd><p>A unicode string field.</p>
</dd></dl>

<dl class="attribute">
<dt id="orion.db.schema.Template.objects">
<code class="sig-name descname">objects</code><a class="headerlink" href="#orion.db.schema.Template.objects" title="Permalink to this definition">¶</a></dt>
<dd><p>The default QuerySet Manager.</p>
<p>Custom QuerySet Manager functions can extend this class and users can
add extra queryset functionality.  Any custom manager methods must accept a
<code class="xref py py-class docutils literal notranslate"><span class="pre">Document</span></code> class as its first argument, and a
<code class="xref py py-class docutils literal notranslate"><span class="pre">QuerySet</span></code> as its second argument.</p>
<p>The method function should return a <code class="xref py py-class docutils literal notranslate"><span class="pre">QuerySet</span></code>
, probably the same one that was passed in, but modified in some way.</p>
</dd></dl>

<dl class="method">
<dt id="orion.db.schema.Template.pipelines">
<em class="property">property </em><code class="sig-name descname">pipelines</code><a class="headerlink" href="#orion.db.schema.Template.pipelines" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="orion.db.schema.Template.unique_key_fields">
<code class="sig-name descname">unique_key_fields</code><em class="property"> = ['name']</em><a class="headerlink" href="#orion.db.schema.Template.unique_key_fields" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="orion.evaluation.html" class="btn btn-neutral float-right" title="orion.evaluation package" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="orion.db.explorer.html" class="btn btn-neutral float-left" title="orion.db.explorer module" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, MIT Data To AI Lab

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>