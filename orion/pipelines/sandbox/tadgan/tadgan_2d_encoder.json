{
    "primitives": [
        "mlprimitives.custom.timeseries_preprocessing.time_segments_aggregate",
        "sklearn.impute.SimpleImputer",
        "sklearn.preprocessing.MinMaxScaler",
        "mlprimitives.custom.timeseries_preprocessing.rolling_window_sequences",
        "orion.primitives.tadgan.TadGAN",
        "orion.primitives.tadgan.score_anomalies",
        "orion.primitives.timeseries_anomalies.find_anomalies"
    ],
    "init_params": {
        "mlprimitives.custom.timeseries_preprocessing.time_segments_aggregate#1": {
            "time_column": "timestamp",
            "interval": 21600,
            "method": "mean"
        },
        "sklearn.preprocessing.MinMaxScaler#1": {
            "feature_range": [
                -1,
                1
            ]
        },
        "mlprimitives.custom.timeseries_preprocessing.rolling_window_sequences#1": {
            "target_column": 0,
            "window_size": 100,
            "target_size": 1
        },
        "orion.primitives.tadgan.TadGAN#1": {
            "epochs": 35,
            "learning_rate": 0.0001,
            "enable_custom_optimizer": true,
            "latent_dim": 25,
            "num_layers": 2,
            "layers_encoder": [
                {
                    "class": "orion.primitives.attention_layers.Encoder",
                    "parameters": {
                        "num_layers": "num_layers",
                        "d_model": "input_dim",
                        "num_heads": "num_heads"
                    }
                },
                {
                    "class": "tensorflow.keras.layers.AvgPool1D",
                    "parameters": {
                        "strides": 2
                    }
                },
                {
                    "class": "orion.primitives.attention_layers.Encoder",
                    "parameters": {
                        "num_layers": "num_layers",
                        "d_model": "input_dim",
                        "num_heads": "num_heads"
                    }
                },
                {
                    "class": "tensorflow.keras.layers.AvgPool1D",
                    "parameters": {
                        "strides": 2
                    }
                },
                {
                    "class": "orion.primitives.attention_layers.Encoder",
                    "parameters": {
                        "num_layers": "num_layers",
                        "d_model": "input_dim",
                        "num_heads": "num_heads"
                    }
                },
                {
                    "class": "tensorflow.keras.layers.Activation",
                    "parameters": {
                        "activation": "tanh"
                    }
                }
            ],
            "layers_critic_z": [
                {
                    "class": "tensorflow.keras.layers.Conv1D",
                    "parameters": {
                        "filters": 64,
                        "kernel_size": 5,
                        "strides": 2
                    }
                },
                {
                    "class": "tensorflow.keras.layers.LeakyReLU",
                    "parameters": {
                        "alpha": 0.2
                    }
                },
                {
                    "class": "tensorflow.keras.layers.Dropout",
                    "parameters": {
                        "rate": 0.25
                    }
                },
                {
                    "class": "tensorflow.keras.layers.Flatten",
                    "parameters": {}
                },
                {
                    "class": "tensorflow.keras.layers.Dense",
                    "parameters": {
                        "units": 1
                    }
                }
            ],
            "layers_generator": [
                {
                    "class": "orion.primitives.attention_layers.Encoder",
                    "parameters": {
                        "num_layers": "num_layers",
                        "d_model": "output_dim",
                        "num_heads": "num_heads"
                    }
                },
                {
                    "class": "tensorflow.keras.layers.UpSampling1D",
                    "parameters": {
                        "size": 2
                    }
                },
                {
                    "class": "orion.primitives.attention_layers.Encoder",
                    "parameters": {
                        "num_layers": "num_layers",
                        "d_model": "output_dim",
                        "num_heads": "num_heads"
                    }
                },
                {
                    "class": "tensorflow.keras.layers.UpSampling1D",
                    "parameters": {
                        "size": 2
                    }
                },
                {
                    "class": "orion.primitives.attention_layers.Encoder",
                    "parameters": {
                        "num_layers": "num_layers",
                        "d_model": "output_dim",
                        "num_heads": "num_heads"
                    }
                },
                {
                    "class": "tensorflow.keras.layers.Activation",
                    "parameters": {
                        "activation": "tanh"
                    }
                }
            ],
            "layers_critic_x": [
                {
                    "class": "tensorflow.keras.layers.Conv1D",
                    "parameters": {
                        "filters": 64,
                        "kernel_size": 5,
                        "strides": 2
                    }
                },
                {
                    "class": "tensorflow.keras.layers.LeakyReLU",
                    "parameters": {
                        "alpha": 0.2
                    }
                },
                {
                    "class": "tensorflow.keras.layers.Dropout",
                    "parameters": {
                        "rate": 0.25
                    }
                },
                {
                    "class": "tensorflow.keras.layers.Conv1D",
                    "parameters": {
                        "filters": 64,
                        "kernel_size": 5,
                        "strides": 2
                    }
                },
                {
                    "class": "tensorflow.keras.layers.LeakyReLU",
                    "parameters": {
                        "alpha": 0.2
                    }
                },
                {
                    "class": "tensorflow.keras.layers.Dropout",
                    "parameters": {
                        "rate": 0.25
                    }
                },
                {
                    "class": "tensorflow.keras.layers.Conv1D",
                    "parameters": {
                        "filters": 64,
                        "kernel_size": 5,
                        "strides": 2
                    }
                },
                {
                    "class": "tensorflow.keras.layers.LeakyReLU",
                    "parameters": {
                        "alpha": 0.2
                    }
                },
                {
                    "class": "tensorflow.keras.layers.Dropout",
                    "parameters": {
                        "rate": 0.25
                    }
                },
                {
                    "class": "tensorflow.keras.layers.Conv1D",
                    "parameters": {
                        "filters": 64,
                        "kernel_size": 5,
                        "strides": 2
                    }
                },
                {
                    "class": "tensorflow.keras.layers.LeakyReLU",
                    "parameters": {
                        "alpha": 0.2
                    }
                },
                {
                    "class": "tensorflow.keras.layers.Dropout",
                    "parameters": {
                        "rate": 0.25
                    }
                },
                {
                    "class": "tensorflow.keras.layers.Flatten",
                    "parameters": {}
                },
                {
                    "class": "tensorflow.keras.layers.Dense",
                    "parameters": {
                        "units": 1
                    }
                }
            ]
        },
        "orion.primitives.tadgan.score_anomalies#1": {
            "rec_error_type": "dtw"
        },
        "orion.primitives.timeseries_anomalies.find_anomalies#1": {
            "window_size_portion": 0.33,
            "window_step_size_portion": 0.1,
            "fixed_threshold": true
        }
    },
    "input_names": {
        "orion.primitives.tadgan.TadGAN#1": {
            "y": "X"
        },
        "orion.primitives.tadgan.score_anomalies#1": {
            "y": "X"
        },
        "orion.primitives.timeseries_anomalies.find_anomalies#1": {
            "index": "index"
        }
    },
    "output_names": {
        "orion.primitives.tadgan.TadGAN#1": {
            "y": "y_hat"
        },
        "mlprimitives.custom.timeseries_preprocessing.rolling_window_sequences#1": {
            "index": "X_index",
            "target_index": "y_index"
        }
    },
    "outputs": {
        "default": [
            {
                "name": "events",
                "variable": "orion.primitives.timeseries_anomalies.find_anomalies#1.y"
            }
        ],
        "model_info": [
            {
                "name": "y_true",
                "variable": "orion.primitives.tadgan.TadGAN#1.y_true"
            },
            {
                "name": "y_hat",
                "variable": "orion.primitives.tadgan.TadGAN#1.y_hat"
            },
            {
                "name": "critic",
                "variable": "orion.primitives.tadgan.TadGAN#1.critic"
            },
            {
                "name": "index",
                "variable": "mlprimitives.custom.timeseries_preprocessing.time_segments_aggregate#1.index"
            },
            {
                "name": "fit_history",
                "variable": "orion.primitives.tadgan.TadGAN#1.fit_history"
            }
        ]
    }
}
